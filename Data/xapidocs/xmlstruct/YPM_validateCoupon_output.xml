<?xml version="1.0" encoding="UTF-8"?>
<!-- 
Licensed Materials - Property of IBM
IBM Sterling Selling And Fulfillment Suite
(C) Copyright IBM Corp. 2005, 2013 All Rights Reserved.
US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 -->
<Coupon CouponID="" CouponStatusMsgCode="" Valid="|Y|N|P" xmlns="http://www.sterlingcommerce.com/documentation/YPM/validateCoupon/output">
    <yfc:doc>
        <Attributes>
            <Attribute EntityName="Coupon" Name="CouponID" NameInEntity="Coupon_ID">
                <Description>
                    <div>Unique identifier of a coupon.
						<Validation>
                            <Condition>
                                <code>CouponID</code> is not passed. </Condition>
                            <Error
                                Description="Mandatory Parameters for the Operation are missing." ErrorCode="YPM10000"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
            <Attribute DataType="Text-100" Name="CouponStatusMsgCode">
                <Description>
                    <div class="portlet"
                            style="width:90%">
						Indicates the status of the coupon validation. Following table lists the possible coupon status codes: 
						<table
                            border="0" cellpadding="0" cellspacing="0" class="table">
                            <tr>
                                <td class="tablecolumnheader" width="20%">CouponStatusMsgCode</td>
                                <td align="center"
                                    class="tablecolumnheader" width="40%">Description</td>
                                <td align="center" class="tablecolumnheader">Coupon Status Attributes returned</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_VALID</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is valid.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_INVALID</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon does not exist.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_PARTIAL</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is partially valid.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_NOT_ACTIVE</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not active.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>PricingStatus</code> of the coupon</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_NOT_YET_EFFECTIVE</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not yet active.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>StartDateActive</code> of the coupon</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_EXPIRED</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is expired.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>EndDateActive</code> of the coupon</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_CUSTOMER</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not assigned to the <code>CustomerID</code>
                                </td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>CustomerID</code> passed in the input. A blank <code>CustomerID</code> indicates that the coupon has no assignments with void <code>CustomerID</code> for the <code>SelectionCriteria</code>.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_CUSTOMER_CONTACT</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not assigned to the <code>CustomerContactID</code>
                                </td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>CustomerContactID</code> passed in the input. A blank <code>CustomerContactID</code> indicates that the coupon has no assignments with void <code>CustomerContactID</code> for the <code>SelectionCriteria</code>.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_REGION</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not assigned to the passed <code>RegionKey</code> or <code>PersonInfo</code>
                                </td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>RegionKey</code> passed or derived based on <code>PersonInfo</code> from the input. A blank <code>RegionKey</code> indicates that the coupon has no assignments with void <code>RegionKey</code> for the <code>SelectionCriteria</code>.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_ATTRIBUTE</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not assigned to the passed customer attribute</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">Any one of the input <code>CustomerType</code>, <code>RelationshipType</code>, <code>Vertical</code> or any extended attribute of the <code>YPM_PRICING_RULE_ASSIGNMENT</code> that didn't match the coupon assignments.  A blank attribute value indicates that the coupon is assigned to all seller organization.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_NOT_ASSIGNED_TO_SELLER</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not created by or assigned to the passed seller organization</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>SellerOrganizationCode</code> passed in the input. A blank <code>SellerOrganizationCode</code> indicates that the coupon has assignments with void <code>SellerOrganizationCode</code>.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_TARGET_SKU_MISSING</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The item on which this coupon applies adjustments does not exist in this order</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>TargetItemID</code> and <code>TargetUnitOfMeasure</code> of the coupon.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_CONDITION_NOT_SATISFIED</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon condition is not satisfied. Hence the rule is not fired.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_NOT_APPLICABLE</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not applicable. For example a coupon is passed and it is not applicable when <code>RunCatalogOnlyRules</code> is set to <b>
                                    <code>Y</code>
                                    </b>.</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None.</td>
                            </tr>
                            <tr>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_PAYMENT_METHOD</td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The coupon is not applicable to the passed <code>PaymentType</code>in <code>PaymentTypeList</code> from the input.  </td>
                                <td align="center" class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">
                                    <code>PaymentType</code> passed in <code>PaymentTypeList</code> from the input.</td>
                            </tr>
                        </table>
						Note: The above codes are returned by the default coupon validation logic. The user exit implementation of the coupon validation can return any code including the ones in the above table.
						</div>
                </Description>
            </Attribute>
            <Attribute DataType="Flag" Name="Valid">
                <Description>
                    <div>Indicates whether the coupon is valid or not. This does
							not indicate whether the coupon is applicable or not. Refer
							to <code>CouponStatusMsgCode</code> to determine whether the
							coupon is applicable or not. Refer to the 
							<code>validateCoupon</code> API for details on how a coupon
							is determined to be valid.  If <code>ValidateReferences</code> was
							'<code>Y</code>' the value for this attribute can be Y|N|P. The
							value '<code>P</code>' means that the references for coupon are
							partially valid. Some of the references are valid and some of them
							are not.
							</div>
                </Description>
            </Attribute>
        </Attributes>
    </yfc:doc>
    <CouponStatusAttribute Name="" Value="" yfc:DTDOccurrence="ZeroOrMany">
        <yfc:doc>
            <Attributes>
                <Attribute DataType="Text-100" Name="Name">
                    <Description>
                        <div>Name of the attribute on the coupon or in the input due to which the coupon is not applicable. </div>
                    </Description>
                </Attribute>
                <Attribute DataType="Text-100" Name="Value">
                    <Description>
                        <div>Value of the attribute.</div>
                    </Description>
                </Attribute>
            </Attributes>
        </yfc:doc>
    </CouponStatusAttribute>
    <PricingRules>
        <PricingRule Description="" PricingRuleKey="" yfc:DTDOccurrence="ZeroOrMany">
            <yfc:doc>
                <Element EntityName="Pricing_Rule">
                    <Description>
                        <div>Pricing Rule associated with the Coupon.</div>
                    </Description>
                </Element>
                <Attributes>
                    <Attribute EntityName="Pricing_Rule"
                        Name="Description" NameInEntity="Description">
                        <Description>
                            <div>Description of the Pricing Rule associated with the Coupon.</div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Pricing_Rule"
                        Name="PricingRuleKey" NameInEntity="Pricing_Rule_Key">
                        <Description>
                            <div>Primary Key of Pricing Rule associated with the Coupon.</div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
        </PricingRule>
    </PricingRules>
    <References>
        <Reference ReferenceId="" ReferenceSequence=""
            ReferenceStatusMsgCode="" Valid="">
            <yfc:doc>
                <Element EntityName="Promotion_Reference"/>
                <Attributes>
                    <Attribute DataType="Text-100" Name="ReferenceStatusMsgCode">
                        <Description>
                            <div class="portlet"
                                    style="width:90%">
						Indicates the status of the reference validation. Following table lists the possible reference status codes: 
						<table
                                    border="0" cellpadding="0"
                                    cellspacing="0" class="table">
                                    <tr>
                                    <td class="tablecolumnheader" width="20%">CouponStatusMsgCode</td>
                                    <td align="center"
                                    class="tablecolumnheader" width="40%">Description</td>
                                    <td align="center" class="tablecolumnheader">Coupon Status Attributes returned</td>
                                    </tr>
                                    <tr>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_CODE_VALID</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The reference is valid.</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                                    </tr>
                                    <tr>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_CODE_INVALID</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The reference does not exist.</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                                    </tr>
                                    <tr>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_CUSTOMER</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The reference is not assigned to the <code>CustomerID</code>
                                    </td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                                    </tr>
                                    <tr>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">YPM_RULE_BAD_CUSTOMER_CONTACT</td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">The reference is not assigned to the <code>CustomerContactID</code>
                                    </td>
                                    <td align="center"
                                    class="tablecolumn"
                                    style="border-bottom:1px solid #8C92C6" valign="top">None</td>
                                    </tr>
                                </table>
                            </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="Valid">
                        <Description>
                            <div>Indicates whether the reference is valid or not. Valid values are Y|N</div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
            <CouponStatusAttribute Name="" Value="" yfc:DTDOccurrence="ZeroOrMany">
                <yfc:doc>
                    <Attributes>
                        <Attribute DataType="Text-100" Name="Name">
                            <Description>
                                <div>Name of the attribute on the coupon or in the input due to which the coupon is not applicable. </div>
                            </Description>
                        </Attribute>
                        <Attribute DataType="Text-100" Name="Value">
                            <Description>
                                <div>Value of the attribute.</div>
                            </Description>
                        </Attribute>
                    </Attributes>
                </yfc:doc>
            </CouponStatusAttribute>
        </Reference>
    </References>
</Coupon>
