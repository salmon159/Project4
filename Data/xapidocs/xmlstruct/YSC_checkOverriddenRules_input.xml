<?xml version="1.0" encoding="UTF-8"?>
<!-- 
Licensed Materials - Property of IBM
IBM Sterling Selling And Fulfillment Suite
(C) Copyright IBM Corp. 2005, 2013 All Rights Reserved.
US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 -->
<Validation AllowTransaction="" CallingOrganizationCode="Required"
    Domain="Required" ValidationID="Required"
    xmlns="http://www.sterlingcommerce.com/documentation/YSC/checkOverriddenRules/input" yfc:AllowAnyElement="skip">
    <yfc:doc>
        <Element>
            <Description>
                <div>
             		This table stores the configuration for a validation
             		<Validation>
                        <Condition>ValidationID and CallingOrganizationCode must be able to indicate to a valid Validation.
						</Condition>
                        <Error Description="Validation Not Found" ErrorCode="OMP921_MO03"/>
                    </Validation>
                </div>
            </Description>
        </Element>
        <Attributes>
            <Attribute DataType="Flag" Name="AllowTransaction">
                <Description>
                    <div>
						This field is used to indicate if a previous violation check has revealed violations  (ie: checkValidationRule call). 
					</div>
					Valid Values:
					<b>
                        <code>Y</code>
                    </b>or<b>
                        <code>N</code>
                    </b>
                </Description>
            </Attribute>
            <Attribute DataType="String" Name="CallingOrganizationCode">
                <Description>
                    <div>
						 The base OrganizationCode of the API call. This code will be used to get the proper Validation, Domain, and Validation Rule set 
						 based on the inheritance of the configuration.  
					</div>
                </Description>
            </Attribute>
        </Attributes>
    </yfc:doc>
    <OrderApprovalRule DocumentType="Required" EvaluationDate=""
        RuleID="" yfc:DTDOccurrence="REQUIRED">
        <yfc:doc>
            <Attributes>
                <Attribute DataType="Date" Name="EvaluationDate">
                    <Description>
                        <div>
							This field is used to specify the Date that should be used in searching for Overridden Rules based on Start and End Date.
							In order for a Rule to apply, the Evaulation Date passed must be between the Effective Start Date and the Effective End Date of the Rule. 
							If this field is not passed, the Current Date will be used by default.
						</div>
                    </Description>
                </Attribute>
            </Attributes>
        </yfc:doc>
    </OrderApprovalRule>
    <PersonInfo AddressLine1="" AddressLine2="" AddressLine3=""
        AddressLine4="" AddressLine5="" AddressLine6=""
        AlternateEmailID="" Beeper="" City="" Company="" Country=""
        DayFaxNo="" DayPhone="" Department="" EMailID="" EveningFaxNo=""
        EveningPhone="" FirstName="" HttpUrl="" IsCommercialAddress=""
        JobTitle="" LastName="" MiddleName="" MobilePhone=""
        OtherPhone="" PersonID="" PreferredShipAddress="" State=""
        Suffix="" TaxGeoCode="" Title="" ZipCode="">
        <yfc:doc>
            <Element>
                <Description>
                    <div>
						This Elements is used to input relevant personal information and addresses. Its fields are used to determine the set of one or more RegionKeys 
						that will be used to search for applicable Overridden Rules. Rules whose RegionKeys are contained in the set of RegionKeys generated by this input
						will be evaluated for potential violations using the information passed in the Input Element.
					</div>
                </Description>
            </Element>
        </yfc:doc>
    </PersonInfo>
    <Input>
        <yfc:doc>
            <Element>
                <Description>
                    <div>
						This element will accept a well-formed input xml based on the Validation's Input Template. 
						This Element has no base attributes. 
						The input xml will be treated as a child element to the Input element during evaluation.	
					</div>
                </Description>
            </Element>
        </yfc:doc>
    </Input>
    <TransactionInfo OrderHeaderKey="" TransactionInfoID="">
        <yfc:doc>
            <Element>
                <Description>
                    <div>
						This element is used to pass arguments used in finding existing Violations and Approvals. Aside from TransactionInfoID, the arguments of this element will vary based on the Validation's Violation_Entity.
					</div>
                </Description>
            </Element>
            <Attributes>
                <Attribute EntityName="Order_Transaction_Info"
                    Name="OrderHeaderKey" NameInEntity="ORDER_HEADER_KEY"/>
                <Attribute EntityName="Transaction_Info"
                    Name="TransactionInfoID" NameInEntity="TRANSACTION_INFO_ID"/>
            </Attributes>
        </yfc:doc>
    </TransactionInfo>
    <TransactionViolationReferenceList yfc:DTDOccurrence="REQUIRED">
        <yfc:doc>
            <Element>
                <Description>
                    <div>
						This Element contains a list of applicable Transaction References that can be used in searching for existing Violations and Approvals on a Transaction.	
					</div>
                </Description>
            </Element>
        </yfc:doc>
        <TransactionViolationReference ReferenceName=""
            ReferenceValue="" yfc:DTDOccurrence="ZeroOrMany">
            <yfc:doc>
                <Element>
                    <Description>
                        <div>
								This Element contains values for TransactionViolationReferences. These inputs must correspond to the Reference Names configured as Validation References of the Validation passed in the 
								Input. Non-Primary Validation References must have at least one matching reference in the TransactionViolationReference input, but can have multiple instances of that reference. Primary
								Validation References must have one and only one matching reference in the TransactionViolationReference input. If either of these conditions are not met, an exception will be thrown.
								<Validation>
                                <Condition>Instances of the Reference Names of any configured Validation References for the input Validation must be present.
									</Condition>
                                <Error Description="Invalid References" ErrorCode="OMP921_MO001"/>
                            </Validation>
                        </div>
                    </Description>
                </Element>
                <Attributes>
                    <Attribute
                        EntityName="Transaction_Violation_Reference"
                        Name="ReferenceName" NameInEntity="REFERENCE_NAME"/>
                    <Attribute
                        EntityName="Transaction_Violation_Reference"
                        Name="ReferenceValue" NameInEntity="REFERENCE_VALUE"/>
                </Attributes>
            </yfc:doc>
        </TransactionViolationReference>
    </TransactionViolationReferenceList>
    <TransactionViolationList yfc:DTDOccurrence="REQUIRED">
        <yfc:doc>
            <Element>
                <Description>
                    <div>
						This element is used to pass a list of existing violations to the internal logic of the checkOverriddenRules framework.
						As a part of Violation Resolution, the API searches for existing violations as part of its normal usage. This input is 
						intended to allow the User to specify what violations should be used for this process. It is optional, and does not need
						to be passed for the API to function, but if it is passed no rule search or evaluation will take place, and only the 
						violations passed in the element will be used in Violation Resolution.
					</div>
                </Description>
            </Element>
        </yfc:doc>
        <TransactionViolation ApprovalRuleID="Required"
            DocumentType="Required" Domain="" MessageCode=""
            OrganizationCode="Required" SequenceNumber="" Status=""
            TransactionInfoID="" yfc:DTDOccurrence="OneOrMany">
            <yfc:doc>
                <Attributes>
                    <Attribute DataType="String"
                        EntityName="Order_Approval_Rule"
                        Name="ApprovalRuleID" NameInEntity="RULE_ID">
                        <Description>
                            <div>
							The ID of an Approval Rule.
								<Validation>
                                    <Condition>The Approval Rule passed against a Violation must exist.
									</Condition>
                                    <Error
                                    Description="Approval Rule Not Found" ErrorCode="OMP921_MO01"/>
                                </Validation>
                                <Validation>
                                    <Condition>The Approval Rule must be defined for the Validation passed.
									</Condition>
                                    <Error
                                    Description="Invalid Approval Rule for Validation" ErrorCode="OMP921_MO02"/>
                                </Validation>
                            </div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
            <TransactionInfo OrderHeaderKey="">
                <yfc:doc>
                    <Element>
                        <Description>
                            <div>
								The element containing the unique fields for a given
								Concrete Transaction Info table.
							</div>
                        </Description>
                    </Element>
                    <Attributes>
                        <Attribute EntityName="Order_Transaction_Info"
                            Name="OrderHeaderKey" NameInEntity="ORDER_HEADER_KEY"/>
                    </Attributes>
                </yfc:doc>
            </TransactionInfo>
            <TransactionApproverList>
                <TransactionApprover ApproverGroupKey=""
                    ApproverSequence="" ApproverUserGroupID=""
                    ApproverUserTeam="" DelegateUserID="" IsMandatory=""
                    PreviousApproverSequence="" UserID="" yfc:DTDOccurrence="OneOrMany">
                    <yfc:doc>
                        <Element>
                            <Description>
                                <div>
									An individual approver.
								</div>
                            </Description>
                        </Element>
                        <Attributes>
                            <Attribute DataType="LongSequence"
                                EntityName="Transaction_Approval_Status"
                                Name="ApproverSequence" NameInEntity="APPROVER_SEQUENCE"/>
                            <Attribute
                                EntityName="Transaction_Approval_Status"
                                Name="IsMandatory" NameInEntity="IS_MANDATORY"/>
                            <Attribute
                                DataType="ApprovalPlanPredecessorSeq"
                                EntityName="Transaction_Approval_Status"
                                Name="PreviousApproverSequence" NameInEntity="PREVIOUS_APPROVER_SEQUENCE"/>
                        </Attributes>
                    </yfc:doc>
                </TransactionApprover>
            </TransactionApproverList>
            <TransactionViolationReferenceList>
                <TransactionViolationReference ReferenceName="Required"
                    ReferenceValue="Required"
                    TransactionViolationReferenceKey="" yfc:DTDOccurrence="OneOrMany"/>
            </TransactionViolationReferenceList>
        </TransactionViolation>
    </TransactionViolationList>
</Validation>
