<?xml version="1.0" encoding="UTF-8"?>
<!-- Licensed Materials - Property of IBM
     IBM Sterling Selling and Fulfillment Suite
     (C) Copyright IBM Corp. 2001, 2013 All Rights Reserved.
     US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<TriggerAgent BaseTransactionId="" CommitOnParent="" CriteriaId=""
    ProcessType="" xmlns="http://www.sterlingcommerce.com/documentation/YCP/triggerAgent/input">
    <yfc:doc>
        <Element>
            <Description>
                <div>
			 The Api takes either <code> CriteriaId </code> or a combination of <code>BaseTransactionId</code> and <code>ProcessType</code> as the input.The attribute <code> CommitOnParent </code> helps the caller to commit the transaction along with the parent transaction.
			 If <code>CriteriaId </code> is passed as input to this api, each attribute of <code> CriteriaAttributes </code> element override the corresponding attribute configured for <code>CriteriaId </code>. 
			 If <code>CriteriaId </code> is not passed, the attributes passed in the <code> CriteriaAttributes </code> element are used to trigger the agent that corresponds to these criteria attributes. 
			<Validation>
                        <Condition>Either CriteriaId or both BaseTransactionId and ProcessType should be passed.
				</Condition>
                        <Error
                            Description="Either CriteriaId or both BaseTransactionId and ProcessType should be passed." ErrorCode="YCP0327"/>
                    </Validation>
                    <Validation>
                        <Condition>CriteriaId if passed cannot be blank.
				</Condition>
                        <Error Description="CriteriaId cannot be blank." ErrorCode="YCP0328"/>
                    </Validation>
                    <Validation>
                        <Condition>BaseTransactionId if passed cannot be blank.
				</Condition>
                        <Error
                            Description="BaseTransactionId cannot be blank." ErrorCode="YCP0329"/>
                    </Validation>
                    <Validation>
                        <Condition>ProcessType if passed cannot be blank.
				</Condition>
                        <Error
                            Description="ProcessType cannot be blank." ErrorCode="YCP0330"/>
                    </Validation>
                    <Validation>
                        <Condition>If CriteriaId is passed  and the record is not found in the database.
				</Condition>
                        <Error
                            Description="CriteriaId not found in database." ErrorCode="YCP0331"/>
                    </Validation>
                    <Validation>
                        <Condition>If ProcessType is passed  and the record is not found in the database.
				</Condition>
                        <Error
                            Description="ProcessType not found in database." ErrorCode="YCP0332"/>
                    </Validation>
                    <Validation>
                        <Condition>If BaseTransactionId is passed  and the record is not found in the database.
				</Condition>
                        <Error
                            Description="BaseTransactionId not found in database." ErrorCode="YCP0333"/>
                    </Validation>
                    <Validation>
                        <Condition>If there are no transaction records  matching the input criteria.
                                </Condition>
                        <Error
                            Description="No transaction records found matching the input criteria." ErrorCode="YCP0334"/>
                    </Validation>
                </div>
            </Description>
        </Element>
        <Attributes>
            <Attribute EntityName="Base_Transaction"
                Name="BaseTransactionId" NameInEntity="BaseTranid">
                <Description>
                    <div>
					The unique identifier for a base transaction.
				</div>
                </Description>
            </Attribute>
            <Attribute DataType="String" Name="CommitOnParent">
                <Description>
                    <div>
					If this is set to 'Y', the commit of this API depends on the parent transaction. By default this is set to 'Y'.
				</div>
                </Description>
            </Attribute>
            <Attribute EntityName="Agent_Criteria" Name="CriteriaId" NameInEntity="Agent_Criteria_Id">
                <Description>
                    <div>
					The unique identifier of an agent criterion.
				</div>
                </Description>
            </Attribute>
            <Attribute EntityName="Base_Process_Type" Name="ProcessType" NameInEntity="Process_Type">
                <Description>
                    <div>
					Unique identifier for a base process type.
				</div>
                </Description>
            </Attribute>
        </Attributes>
    </yfc:doc>
    <CriteriaAttributes>
        <yfc:doc>
            <Element>
                <Description>
                    <div>
					 The matching criteria attribures are provided as  child elements. This is not taken into account if the input has <code> CriteriaId </code>.
					</div>
                </Description>
            </Element>
        </yfc:doc>
        <Attribute Name="" Value="" yfc:DTDOccurrence="ZeroOrMany">
            <yfc:doc>
                <Attributes>
                    <Attribute DataType="String" Name="Name"/>
                    <Attribute DataType="String" Name="Value"/>
                </Attributes>
            </yfc:doc>
        </Attribute>
    </CriteriaAttributes>
</TriggerAgent>
