<?xml version="1.0" encoding="UTF-8"?>
<!-- 
Licensed Materials - Property of IBM
IBM Sterling Selling And Fulfillment Suite
(C) Copyright IBM Corp. 2005, 2021 All Rights Reserved.
US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 -->
<CapturePayment CustomerPoNo="" DocumentType="" EnterpriseCode=""
    MaskPaymentInfoWhenLoggingAudits="" OrderHeaderKey="" OrderNo=""
    ProceedOnZeroAmountFailure="" xmlns="http://www.sterlingcommerce.com/documentation/OMP/capturePayment/input">
    <yfc:doc>
        <Attributes>
            <Attribute DataType="String" EntityName="Order_Header" Name="CustomerPoNo"/>
            <Attribute EntityName="Order_Header" Name="DocumentType"/>
            <Attribute EntityName="Order_Header" Name="EnterpriseCode"/>
            <Attribute DataType="Flag" Name="MaskPaymentInfoWhenLoggingAudits">
                <Description>This flag indicates if the sensitive payment information is masked while logging the audits for the Order. These payment information are <code>CreditCardNo,CustomerAccountNo,SvcNo,PaymentReference1</code>.
		<br/>Valid Values: <b>
                        <code>Y</code>
                    </b> or <b>
                        <code>N</code>
                    </b>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Header" Name="OrderHeaderKey"/>
            <Attribute EntityName="Order_Header" Name="OrderNo"/>
            <Attribute DataType="Flag" Name="ProceedOnZeroAmountFailure">
                <Description>
                    <div>If passed as <code>Y</code>, prevents an error from being thrown if a zero amount authorization fails.  By default, any failure when attempting to acquire a zero amount authorization will throw an error.</div>
                </Description>
            </Attribute>
        </Attributes>
    </yfc:doc>
    <PaymentMethods>
        <PaymentMethod BillToKey="" CashBackAmount="" ChargeSequence=""
            CheckNo="" CheckReference="" CollectionInPerson="Y|N"
            CreditCardExpDate="" CreditCardName="" CreditCardNo=""
            CreditCardType="" CustomerAccountNo="" CustomerPONo=""
            DebitCardNo="" DisplayCreditCardNo=""
            DisplayCustomerAccountNo="" DisplayDebitCardNo=""
            DisplayPaymentReference1="" DisplayPrimaryAccountNo=""
            DisplaySvcNo="" EntryType="" FirstName="" IsCorrection="Y|N"
            LastName="" MiddleName=""
            Operation="Manage|Delete|Suspend|SuspendRefund|Collect"
            PaymentKey="Conditional" PaymentReference1=""
            PaymentReference2="" PaymentReference3=""
            PaymentReference4="" PaymentReference5=""
            PaymentReference6="" PaymentReference7=""
            PaymentReference8="" PaymentReference9=""
            PaymentType="Required" PlannedRefundAmount=""
            PrimaryAccountNo="" ReasonCode="" RequestedAmount=""
            ResetSuspensionStatus="Y|N" SecondaryAmount=""
            SecureAuthenticationCode="" SuspendExpiredAuthReversal="Y|N"
            SvcNo="" yfc:DTDOccurrence="ZeroOrMany">
            <yfc:includeInParent IncludeXMLChildNodes="Y"
                IncludeXMLFileName="MasterPaymentMethod.xml" IncludeXMLPath="/PaymentRelated/InputForManage/PaymentMethodCommon"/>
            <yfc:doc>
                <Element EntityName="Payment">
                    <Description>
                        <div>
                            <code>PaymentMethod</code>
							can be added, modified or removed .
							<br/>
							If payment processing is not required for the order, any payment
							method passed in the input xml is still subject to validations.
							<br/>
							Only the
							<code>PaymentMethod</code>
							attributes specified in the input xml can be changed. Attempting
							to change other attributes
							on
							<code>PaymentMethod</code>
							, such as
							<code>TotalAuthorized</code>
							or
							<code>TotalCharged</code>
							results in an error.
							<Validation>
                                <Condition>Pass changed value for attributes not specfied in
									input xml.
				</Condition>
                                <Error
                                    Description="Payment attributes cannot be modified." ErrorCode="YFS10458"/>
                            </Validation>
                        </div>
                    </Description>
                </Element>
                <Attributes>
                    <Attribute EntityName="Payment"
                        Name="ChargeSequence" NameInEntity="charge_sequence">
                        <Description>
                            <div>The sequence in which the payment method is to be used for charging.  If not passed, this will be intelligently defaulted.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="CollectionInPerson">
                        <Description>
                            <div>
                                <code>IN_PERSON</code> will be set to Y by default if the <code>Operation</code> is <code>Collect</code>. This attribute is introduced to override the <code>IN_PERSON</code> flag. <code>CollectionInPerson</code> will be only applicable if the value for the attribute <code>Operation</code> is passed as <code>Collect</code>. Pass CollectionInPerson=N to mark the charge transaction records as NOT IN PERSON. Valid values N, Y. Default value for this flag is <code>Y</code>. </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-4" Name="DisplayPrimaryAccountNo">
                        <Description>
                            <div>Data passed here will automatically be converted into either the <code>DisplayCreditCardNo</code>, <code>DisplayDebitCardNo</code>, <code>DisplayCustomerAccountNo</code>, <code>DisplaySvcNo</code>, or <code>DisplayPaymentReference1</code> field, depending upon the <code>PaymentTypeGroup</code> of the <code>PaymentType</code> passed.    Passing both attributes is not supported; for example, do not pass both <code>DisplayPrimaryAccountNo</code> and <code>DisplayCreditCardNo</code>.  Additionally, do not pass both <code>PrimaryAccountNo</code> and <code>DisplayCreditCardNo</code>.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-100" Name="EntryType">
                        <Description>
                            <div>The Entry Type used to enter payment information into the
								system.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="IsCorrection">
                        <Description>
                            <div>If passed as <code>Y</code>, <code>RequestedAmount</code> will be considered a new value to set in whatever capacity it is used.  If not passed or passed as <code>N</code> then <code>RequestedAmount</code> will be considered a delta to be applied to existing data.
			  <Validation>
                                    <Condition>
							If this attribute is passed as <code>Y</code>, then <code>RequestedAmount</code> should also be passed in the input.
						</Condition>
                                    <Error
                                    Description="RequestedAmount attribute must be passed for the Payment Method if IsCorrection flag is passed as 'Y'." ErrorCode="OMP92_0005"/>
                                </Validation>
                            </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="PaymentCaptureOperation" Name="Operation">
                        <Description>
                            <div>The operation that will be executed on the <code>PaymentMethod</code>.  By default, the operation will be <code>Manage</code>.  If the <code>PaymentMethod</code> is suspended by this API call, the <code>MaxChargeLimit</code> will not be set, and the <code>ChargeSequence</code> will be computed based upon the original or default <code>MaxChargeLimit</code>.</div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Payment" Name="PaymentType" NameInEntity="Payment_Type">
                        <Description>
                            <div>
								Type of payment.
								<br/>
								The
								<code>PaymentType</code>
								must be a value that is already configured for the Seller
								Organization.
								<br/>
								If a
								<code>PaymentMethod</code>
								element is passed, the
								<code>PaymentType</code>
								is validated, even if payment processing is not required for the
								order.
								<Validation>
                                    <Condition>Must be a value defined for the Seller Organization.
					</Condition>
                                    <Error
                                    Description="Payment Type not set up for seller." ErrorCode="YFS10491"/>
                                </Validation>
                                <Validation>
                                    <Condition>
                                    <code>PaymentType</code>
										must be passed.
									</Condition>
                                    <Error
                                    Description="Mandatory Parameters for the Operation are missing." ErrorCode="YFS10364"/>
                                </Validation>
                            </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-1000" Name="PrimaryAccountNo">
                        <Description>
                            <div>Data passed here will automatically be converted into either the <code>CreditCardNo</code>, <code>DebitCardNo</code>, <code>CustomerAccountNo</code>, <code>SvcNo</code>, or <code>PaymentReference1</code> field, depending upon the <code>PaymentTypeGroup</code> of the <code>PaymentType</code> passed.  Passing both attributes is not supported; for example, do not pass both <code>PrimaryAccountNo</code> and <code>CreditCardNo</code>.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="ComputedMoney" Name="RequestedAmount">
                        <Description>
                            <div>This field is used pass a numeric amount into the API.  The usage of this data will depend upon the mode of operation of the API and the <code>PaymentType</code> passed.  In general, this will be used to compute the MaxChargeLimit, though limited by the remaining amount on the order.  If the <code>PaymentMethod</code> is suspended before or during this API call, the <code>MaxChargeLimit</code> will not be set, and the <code>ChargeSequence</code> will be computed based upon the original or default <code>MaxChargeLimit</code>.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="ResetSuspensionStatus">
                        <Description>
                            <div>If passed as <code>Y</code>, the payment method will be unsuspended.  This will occur before processing the payment method.  If the Operation is passed as Delete, Suspend, or SuspendRefund, this attribute is ignored. 
			  </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="ComputedMoney" Name="SecondaryAmount">
                        <Description>
                            <div>This field is used pass a second numeric amount into the API.  The usage of this data will depend upon the mode of operation of the API and the <code>PaymentType</code> passed.  Currently, the only use case is for a total to create and <code>AUTHORIZATION</code> for when using the <code>Collect</code> Operation. When using <code>SecondaryAmount</code>, if no charge should be created, <code>RequestedAmount</code> should be passed as zero. Passing <code>SecondaryAmount</code> does not count as passing <code>RequestedAmount</code> for MaxChargeLimit calculations.</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="SecureCode" Name="SecureAuthenticationCode">
                        <Description>
                            <div>The <code>SecureAuthenticationCode</code> is the code used to identify if the payment method is in the 
					customer's possession, for example, the CVV2 code on a credit card. The knowledge of this code validates that the transaction has been made by 
					the credit card's holder.
					The <code>SecureAuthenticationCode</code> is only used within this API 
					call and will be discarded at the end of the API; the value will not be persisted in the database. </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="SuspendExpiredAuthReversal">
                        <Description>
                            <div>This flag indicates whether or not the reversal of expired authorization has to be initiated for a payment method that has been suspended. If the value is set to Y, 
					then the authorization reversal are not created even though Authorization Reversal Strategy is configured for the payment type. Please note the flag comes into action 
					only when SuspendAnyMoreCharges is either set to Y or B. Valid Values are N or Y (Null value behaves similar to setting it to N ).</div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
            <PersonInfoBillTo AddressID="" AddressLine1=""
                AddressLine2="" AddressLine3="" AddressLine4=""
                AddressLine5="" AddressLine6="" AlternateEmailID=""
                Beeper="" City="" Company="" Country="" DayFaxNo=""
                DayPhone="" Department="" EMailID="" EveningFaxNo=""
                EveningPhone="" FirstName="" IsAddressVerified=""
                IsCommercialAddress="" JobTitle="" LastName=""
                Latitude="" Longitude="" MiddleName="" MobilePhone=""
                OtherPhone="" PersonID="" PersonInfoKey="" State=""
                Suffix="" TaxGeoCode="" Title="" ZipCode="">
                <yfc:includeInParent
                    IncludeXMLFileName="MasterOrder.xml" IncludeXMLPath="/Order/PersonInfoShipTo"/>
                <yfc:includeInParent IncludeXMLChildNodes="Y"
                    IncludeXMLFileName="MasterPersonInfo.xml" IncludeXMLPath="/PersonInfo"/>
            </PersonInfoBillTo>
        </PaymentMethod>
    </PaymentMethods>
    <PreviousChargeTransactionDetails>
        <yfc:doc>
            <Element>
                <Description>
                    <div>
		 			A list of ChargeTransactionDetails to process or reprocess, depending on the results of previous capturePayment calls.  Each operation is restricted to its valid ChargeTransactionDetails only - for example, you may not Retry a successful transaction.
		 		</div>
                </Description>
            </Element>
        </yfc:doc>
        <ChargeTransactionDetail ChargeTransactionKey=""
            Operation="Retry|Void" SecureAuthenticationCode="">
            <yfc:doc>
                <Element EntityName="Charge_Transaction"/>
                <Attributes>
                    <Attribute
                        DataType="PreviousChargeTransactionOperation" Name="Operation"/>
                    <Attribute DataType="SecureCode" Name="SecureAuthenticationCode">
                        <Description>
                            <div>The <code>SecureAuthenticationCode</code> is the code used to identify if the payment method is in the 
				customer's possession, for example, the CVV2 code on a credit card. The knowledge of this code validates that the transaction has been made by 
				the credit card's holder.
				The <code>SecureAuthenticationCode</code> is only used within this API 
				call and will be discarded at the end of the API; the value will not be persisted in the database. </div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
        </ChargeTransactionDetail>
    </PreviousChargeTransactionDetails>
</CapturePayment>
