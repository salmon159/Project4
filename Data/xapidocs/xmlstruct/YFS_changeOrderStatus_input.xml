<?xml version="1.0" encoding="UTF-8"?>
<!-- 
Licensed Materials - Property of IBM
IBM Sterling Selling And Fulfillment Suite
(C) Copyright IBM Corp. 2005, 2013 All Rights Reserved.
US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 -->
<!--changeOrderStatus Input XML-->
<!-- Either OrderHeaderKey or OrderNo, DocumentType and EnterpriseCode is required -->
<!-- BaseDropStatus Used only if ChangeForAllAvailableQty is passed as "Y" for Order Level operations -->
<!-- OrderLines node is ignored if ChangeForAllAvailableQty is passed as "Y" in the order node -->
<OrderStatusChange AuditTransactionId="" BaseDropStatus="Conditional"
    ChangeForAllAvailableQty="" DocumentType="Conditional"
    EnterpriseCode="Conditional" IgnoreTransactionDependencies="Y|N"
    ModificationReasonCode="" ModificationReasonText=""
    ModificationReference1="" ModificationReference2=""
    ModificationReference3="" ModificationReference4=""
    OrderHeaderKey="Conditional" OrderNo="Conditional"
    OrderReleaseKey="Conditional" ReleaseNo="Conditional"
    SelectMethod="" SuppressStatusChangeAudits=""
    TransactionId="Required" xmlns="http://www.sterlingcommerce.com/documentation/YFS/changeOrderStatus/input">
    <yfc:doc>
        <Attributes>
            <Attribute EntityName="Order_Audit"
                Name="AuditTransactionId" NameInEntity="Audit_Transaction_Id"/>
            <Attribute DataType="ShortStatus" Name="BaseDropStatus">
                <Description>
                    <div>
				The base drop status for the specified transaction ID, or the status to use if there is no <code>TransactionId</code> passed.
				This value is required if <code>ChangeForAllAvailableQty</code> is passed as <b>
                            <code>Y</code>
                        </b>. If no status is configured for the transaction and the <code>BaseDropStatus</code> is passed, the status is changed to the value of the <code>BaseDropStatus</code> passed. 
				<br/> The <code>BaseDropStatus</code> can be passed at either the <code>OrderLine</code> or at the <code>OrderStatusChange</code>. If a value is passed for both, the value at the <code>OrderLine</code> is used. The <code>BaseDropStatus</code> must be passed at either the <code>OrderStatusChange</code> level or the <code>OrderLine</code> level if it is needed.  If the specified <code>TransactionID</code> has multiple drop statuses, <code>BaseDropStatus</code> must be passed.
				<br/>
                        <code>BaseDropStatus</code> does not get validated against status modification type.
				 <Validation>
                            <Condition>The <code>BaseDropStatus</code> is not a valid status for the base status of the transaction identified by the <code>TransactionID</code>.
					 </Condition>
                            <Error Description="YFS:Invalid Status" ErrorCode="YFS10235"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
            <Attribute DataType="Flag" Name="ChangeForAllAvailableQty">
                <Description>
                    <div>
				Indicates if all quantities should be changed by the transaction associated with the <code>TransactionID</code> passed. If <b>
                            <code>Y</code>
                        </b> is passed, <code>BaseDropStatus</code> is required at header level. If <code>OrderReleaseKey</code> or <code>ReleaseNo</code> is passed, change order status will apply change to all line with the specified release. 
				<br/>Default: <b>
                            <code>N</code>
                        </b>
                        <br/>Valid Values: <b>
                            <code>Y</code>
                        </b> or <b>
                            <code>N</code>
                        </b>
                    </div>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Header" Name="DocumentType" NameInEntity="Document_Type">
                <Description>
                    <div>
				Part of a unique identifier of the Order. Either <code>OrderHeaderKey</code>
                        <i>or</i>
                        <code>EnterpriseCode</code>, <code>DocumentType</code> and <code>OrderNo</code> of the order must be passed.
					<Validation>
                            <Condition>Either <code>EnterpriseCode</code>, <code>DocumentType</code> and <code>OrderNo</code>
                                <i>or</i>
                                <code>OrderHeaderKey</code> of the order is not passed.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                        <Validation>
                            <Condition>Order cannot be identified based on passed values.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Header" Name="EnterpriseCode" NameInEntity="Enterprise_Key">
                <Description>
                    <div>
				Identifies the Enterpise. Part of a identifier of the Order. Either <code>OrderHeaderKey</code>
                        <i>or</i>
                        <code>EnterpriseCode</code> , <code>DocumentType</code> and <code>OrderNo</code> of the order must be passed.
				<Validation>
                            <Condition>Either <code>EnterpriseCode</code>, <code>DocumentType</code> and <code>OrderNo</code>
                                <i>or</i>
                                <code>OrderHeaderKey</code> of the order is not passed.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                        <Validation>
                            <Condition>Order cannot be identified based on passed values.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
            <Attribute DataType="Flag" Name="IgnoreTransactionDependencies">
                <Description>
                    <div>Flag to override any transaction dependencies that may be defined for the transaction this API invokes.
					<br/>Default: <b>
                            <code>N</code>
                        </b>
                        <br/>Valid Values: <b>
                            <code>Y</code>
                        </b> or <b>
                            <code>N</code>
                        </b>. When passed as <b>
                            <code>Y</code>
                        </b>, transaction dependencies will not be evaluated, and thus will not prevent the API from processing.

					</div>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReasonCode" NameInEntity="Reason_Code"/>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReasonText" NameInEntity="Reason_Text"/>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReference1" NameInEntity="Reference_1"/>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReference2" NameInEntity="Reference_2"/>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReference3" NameInEntity="Reference_3"/>
            <Attribute EntityName="Order_Audit"
                Name="ModificationReference4" NameInEntity="Reference_4"/>
            <Attribute EntityName="Order_Release_Status"
                Name="OrderHeaderKey" NameInEntity="Order_Header_Key"/>
            <Attribute EntityName="Order_Header" Name="OrderNo" NameInEntity="Order_No">
                <Description>
                    <div>
				Part of a unique identifier of the Order. Either <code>OrderHeaderKey</code>
                        <i>or</i>
                        <code>EnterpriseCode</code>, <code>DocumentType</code> and <code>OrderNo</code> of the order must be passed.
					<Validation>
                            <Condition>Either <code>EnterpriseCode</code>, <code>DocumentType</code> and <code>OrderNo</code>
                                <i>or</i>
                                <code>OrderHeaderKey</code> of the order is not passed.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                        <Validation>
                            <Condition>Order cannot be identified based on passed values.
					</Condition>
                            <Error Description="Invalid Order" ErrorCode="YFS10003"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Release_Status"
                Name="OrderReleaseKey" NameInEntity="Order_Release_Key">
                <Description>
                    <div>
				Either <code>OrderReleaseKey</code> or <code>ReleaseNo</code> must be passed to change status for a released order or line. If <code>ChangeForAllAvailableQty</code> is passed, only associated order line to this release will be changed.
				</div>
                </Description>
            </Attribute>
            <Attribute EntityName="Order_Release" Name="ReleaseNo" NameInEntity="Release_No">
                <Description>
                    <div>
				Either <code>OrderReleaseKey</code> or <code>ReleaseNo</code> must be passed to change status for a released order or line. 
				</div>
                </Description>
            </Attribute>
            <Attribute DataType="Action" Name="SelectMethod">
                <Description>
                    <div>
				This attribute determines whether database select operations are carried out in the <b>
                            <code>WAIT</code>
                        </b> or <b>
                            <code>NO_WAIT</code> mode</b>.
				<br/>Default: <b>
                            <code>NO_WAIT</code>
                        </b>
                        <br/>Valid Values: <b>
                            <code>WAIT</code>
                        </b> or  <b>
                            <code>NO_WAIT</code> mode</b>.
			</div>
                </Description>
            </Attribute>
            <Attribute DataType="Flag" Name="SuppressStatusChangeAudits">
                <Description>
                    <div>
						Identifies if CHANGE_STATUS audits have to be suppressed. If <b>
                            <code>Y</code>
                        </b> is passed, CHANGE_STATUS audits are suppressed.	
					</div>
                </Description>
            </Attribute>
            <Attribute DataType="TransactionID" Name="TransactionId">
                <Description>
                    <div>
				Identifies a transaction that changes the status of the order.
				<Validation>
                            <Condition>
                                <code>TransactionID</code> not passed.
						</Condition>
                            <Error
                                Description="Invalid input to change status" ErrorCode="YFS10428"/>
                        </Validation>
                        <Validation>
                            <Condition>Invalid<code>TransactionID</code> passed.
						</Condition>
                            <Error Description="Invalid Transaction." ErrorCode="YCP0063"/>
                        </Validation>
                        <Validation>
                            <Condition>
                                <code>TransactionID</code> of a system transaction passed.
						</Condition>
                            <Error
                                Description="Invalid Transaction Type." ErrorCode="YFS10156"/>
                        </Validation>
                    </div>
                </Description>
            </Attribute>
        </Attributes>
    </yfc:doc>
    <OrderLines>
        <!-- Either OrderLineKey or PrimeLineNo and SubLineNo is required -->
        <!-- If BaseDropStatus not passed at line level then BaseDropStatus from order node is used -->
        <!-- BaseDropStatus at order node or line node is mandatory -->
        <!-- After the orderline is released and no release number is passed at orderline level, if ChangeForAllAvailableQty is passed as "Y", status of all quantitity of that orderline will change to baseDropStatus -->
        <OrderLine BaseDropStatus="Conditional"
            ChangeForAllAvailableQty="" FromBatchNo=""
            FromExpectedDeliveryDate="" FromExpectedShipDate=""
            FromLotNo="" FromRevisionNo="" OrderLineKey="Conditional"
            OrderReleaseKey="" PrimeLineNo="Conditional" Quantity=""
            ReleaseNo="" SubLineNo="Conditional" yfc:DTDOccurrence="ZeroOrMany">
            <yfc:doc>
                <Element EntityName="Order_Release_Status">
                    <Description>
                        <div>
					Either both the <code>PrimeLineNo</code> and the <code>SubLineNo</code> or just the <code>OrderLineKey</code> by itself must be passed to identify the <code>OrderLine</code>.
					</div>
                    </Description>
                </Element>
                <Attributes>
                    <Attribute DataType="ShortStatus" Name="BaseDropStatus">
                        <Description>
                            <div>
						 Indicates the base drop status. The <code>BaseDropStatus</code> can be passed at either the <code>OrderLine</code> level or at the <code>OrderStatusChange</code> level. If a value is passed at both levels, the value at the <code>OrderLine</code> is used. The <code>BaseDropStatus</code> is required at either the <code>OrderStatusChange</code> level or the <code>OrderLine</code> level.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Flag" Name="ChangeForAllAvailableQty">
                        <Description>
                            <div>
						Indicates if all quantities should be changed by the transaction associated with the <code>TransactionID</code> passed. If passed, the Quantity attribute for  the <code>OrderLine</code>  is ignored. If <code>ChangeForAllAvailableQty</code> is <b>
                                    <code>Y</code>
                                </b>,  <code>BaseDropStatus</code> must be passed at order line level, and header level <code>BaseDropStatus</code> will be ignored. When <code>OrderReleaseKey</code> is passed, only quantity associated to this release will be change to new status.
						<br/>Default: <b>
                                    <code>N</code>
                                </b>
                                <br/>Valid Values: <b>
                                    <code>Y</code>
                                </b> or <b>
                                    <code>N</code>
                                </b>
                                <Validation>
                                    <Condition>If <code>ChangeForAllAvailableQty</code> is not <code>Y</code> and <code>Quantity</code> is not passed.
                            </Condition>
                                    <Error
                                    Description="Invalid input to change status" ErrorCode="YFS10428"/>
                                </Validation>
                            </div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-40" Name="FromBatchNo">
                        <Description>
                            <div>
						If <code>FromBatchNo</code> is passed, it is used as a filter criteria to pick up statuses having schedules with the passed <code>FromExpectedShipDate</code>.
						<br/>If <code>FromBatchNo</code> is not passed, this filtering is not applied.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Date" Name="FromExpectedDeliveryDate">
                        <Description>
                            <div>
						If <code>FromExpectedDeliveryDate</code> is passed, it is used as a filter criteria to pick up statuses having schedules with the passed <code>FromExpectedDeliveryDate</code>.
						<br/>If <code>FromExpectedDeliveryDate</code> is not passed, this filtering is not applied.
						<br/>Valid values: Null or a valid date.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Date" Name="FromExpectedShipDate">
                        <Description>
                            <div>
						If <code>FromExpectedShipDate</code> is passed, it is used as a filter criteria to pick up statuses having schedules with the passed <code>FromExpectedShipDate</code>.
						<br/>If <code>FromExpectedShipDate</code> is not passed, this filtering is not applied.
						<br/>Valid values: Null or a valid date.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-40" Name="FromLotNo">
                        <Description>
                            <div>
						If <code>FromLotNo</code> is passed, it is used as a filter criteria to pick up statuses having schedules with the passed <code>FromExpectedShipDate</code>.
						<br/>If <code>FromLotNo</code> is not passed, this filtering is not applied.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Text-40" Name="FromRevisionNo">
                        <Description>
                            <div>
						If <code>FromRevisionNo</code> is passed, it is used as a filter criteria to pick up statuses having schedules with the passed <code>FromExpectedShipDate</code>.
						<br/>If <code>FromRevisionNo</code> is not passed, this filtering is not applied.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Order_Line"
                        Name="OrderLineKey" NameInEntity="Order_Line_Key">
                        <Description>
                            <div>
						Either both the <code>PrimeLineNo</code> and the <code>SubLineNo</code> or just the <code>OrderLineKey</code> by itself must be passed to identify the <code>OrderLine</code>.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Order_Release_Status"
                        Name="OrderReleaseKey" NameInEntity="Order_Release_Key">
                        <Description>
                            <div>
								Either <code>OrderReleaseKey</code> or <code>ReleaseNo</code> must be passed to change status for a released order or line. If <code>ChangeForAllAvailableQty</code> is passed, only associated order line to this release will be changed.
							</div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Order_Line"
                        Name="PrimeLineNo" NameInEntity="Prime_Line_No">
                        <Description>
                            <div>
						Either both the <code>PrimeLineNo</code> and the <code>SubLineNo</code> or just the <code>OrderLineKey</code> by itself must be passed to identify the <code>OrderLine</code>.
						</div>
                        </Description>
                    </Attribute>
                    <Attribute DataType="Quantity" Name="Quantity">
                        <Description>
                            <div>
					Quantity for which the status needs to be changed. If <code>ChangeForAllAvailableQty</code> is passed, then this attribute is ignored.
                    <Validation>
                                    <Condition>If <code>Quantity</code> not passed and <code>ChangeForAllAvailableQty</code> is not <code>Y</code>.
                        </Condition>
                                    <Error
                                    Description="Invalid input to change status" ErrorCode="YFS10428"/>
                                </Validation>
                            </div>
                        </Description>
                    </Attribute>
                    <Attribute EntityName="Order_Release"
                        Name="ReleaseNo" NameInEntity="Release_No"/>
                    <Attribute EntityName="Order_Line" Name="SubLineNo" NameInEntity="Sub_Line_No">
                        <Description>
                            <div>
						Either both the <code>PrimeLineNo</code> and the <code>SubLineNo</code> or just the <code>OrderLineKey</code> by itself must be passed to identify the<code>OrderLine</code>.
						</div>
                        </Description>
                    </Attribute>
                </Attributes>
            </yfc:doc>
            <OrderLineTranQuantity Quantity="" TransactionalUOM="">
                <yfc:doc>
                    <Attributes>
                        <Attribute DataType="Quantity" Name="Quantity">
                            <Description>
                                <div>
					Quantity in Transactional Unit Of Measure for which the status needs to be changed. If <code>ChangeForAllAvailableQty</code> is passed, then this attribute is ignored.
					</div>
                            </Description>
                        </Attribute>
                        <Attribute DataType="UOM" Name="TransactionalUOM">
                            <Description>UOM on which all the transactional quantities are specified.
					  </Description>
                        </Attribute>
                    </Attributes>
                </yfc:doc>
            </OrderLineTranQuantity>
        </OrderLine>
    </OrderLines>
</OrderStatusChange>
