<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Wed Sep 28 16:02:41 UTC 2022 -->
<title>managePricingRule (IBM Sterling Dev java docs)</title>
<meta name="date" content="2022-09-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="managePricingRule (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 10.0</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ypm/pricingRule/getPricingRuleList.html" title="interface in com.yantra.api.ypm.pricingRule"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ypm/pricingRule/managePricingRule.html" target="_top">Frames</a></li>
<li><a href="managePricingRule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="managePricingRule" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.yantra.api.ypm.pricingRule</div>
<h2 title="Interface managePricingRule" class="title" id="Header1">Interface managePricingRule</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a>, com.yantra.api.YPMApi</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">managePricingRule</span></pre>
<div class="block">Create, modify or delete a pricing rule.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/ypm/pricingRule/managePricingRule.html#managePricingRule-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">managePricingRule</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                 org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>managePricingRule</code> API is used to create, modify or delete a pricing rule or coupon.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="managePricingRule-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>managePricingRule</h4>
<pre>org.w3c.dom.Document&nbsp;managePricingRule(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                       org.w3c.dom.Document&nbsp;inXML)
                                throws com.yantra.yfs.japi.YFSException,
                                       java.rmi.RemoteException</pre>
<div class="block"><p>The <code>managePricingRule</code> API is used to create, modify or delete a pricing rule or coupon.
 <br> 
 <br> 
 In general a rule is specified by conditions and actions: when the condition of a rule is satisfied, 
 then the corresponding action is taken on a target. Conditions of a rule based on which the rule is evaluated is also termed 
 as trigger of that rule, for example: the combination of items in a combination rule. 
 In the case of pricing rules or coupons actions generate adjustments that are targeted on an item or the entire order. 
 Conditions are evaluated on the basis of the items in the order or, in the case of item quantity rules 
 the item attributes.<br> 
 A manual pricing rule (Pricing rule with <code>IsManualRule</code> set to <code><b>Y</b></code>) is suggested by the pricing service based on contents or total of the order, 
 which then again should be specified with the amount of adjustment to be applied against the order. 
 A manual pricing rule can be one of combination, item quantity or order total.<br> 
 
<p>Pricing rules can be of different types and categories. Following are combinations of rule type and category supported:
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
    <tr>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;&nbsp;RuleCategory&nbsp;&nbsp;</b></td>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>RuleType</b></td>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Description</b></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PRICING</code></b></a></td>
        <td align="center"><a><b><code>COMBINATION</code></b></a></td>
        <td><a>Combination pricing rule used to generate adjustment on the unit price of target item if a certain combination of items is present in the order.</a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PRICING</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;ITEM_QUANTITY&nbsp;</code></b></a></td>
        <td><a>Item quantity pricing rule is used to generate adjustment on the unit price of items based on quantity tiers of items or group of items with item attributes.</a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PRICING</code></b></a></td>
        <td align="center"><a><b><code>ORDER_TOTAL</code></b></a></td>
        <td><a>Order total pricing rule is used to generate adjustment on the order total* based on the tiers of total price of the order*.</a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>SHIPPING</code></b></a></td>
        <td align="center"><a><b><code>ORDER_TOTAL</code></b></a></td>
        <td><a>Shipping Charge Order total rule is used to generate adjustment on the shipping charge of the order based on the tiers of total price of the order*.</a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>SHIPPING</code></b></a></td>
        <td align="center"><a><b><code>SURCHARGE</code></b></a></td>
        <td><a>Shipping Surcharge rule is used to generate absolute uplift on the unit price of item based on the item attributes**.</a></td>
    </tr>
     <tr>
        <td align="center"><a><b><code>PRICING</code></b></a></td>
        <td align="center"><a><b><code>GLOBAL_EXCLUSION</code></b></a></td>
        <td><a>Global exclusion rules used for excluding certain items, categories or attributes from all pricing rules.</a></td>
    </tr>
  </table>
</p>
<br>
<p>Pricing rules can have following Triggers and Targets. Following are different trigger and target conditions supported.  
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
    <tr>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;&nbsp;Name&nbsp;&nbsp;</b></td>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Trigger/Target</b></td>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Description</b></td>
        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Applicable <code>RuleType</code>(s)</b></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleItem</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Trigger&nbsp;</code></b></a></td>
        <td><a>List of items on which the pricing rule adjustments are defined.</a></td>
        <td><a><code>COMBINATION</code> and <code>ORDER_TOTAL</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleAttributeValue</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Trigger&nbsp;</code></b></a></td>
        <td><a>List of attribute values of the items on which the pricing rule adjustments are defined.</a></td>
        <td><a><code>COMBINATION</code> and <code>ORDER_TOTAL</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleCategory</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Trigger&nbsp;</code></b></a></td>
        <td><a>List of categories of the items on which the pricing rule adjustments are defined.</a></td>
        <td><a><code>COMBINATION</code> and <code>ORDER_TOTAL</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleTargetItem </code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Target&nbsp;</code></b></a></td>
        <td><a>List of items on which the pricing rule adjustments are applied.</a></td>
        <td><a><code>COMBINATION</code>, <code>ITEM_QUANTITY</code> and <code>SURCHARGE</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleTargetAttributeValue </code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Target&nbsp;</code></b></a></td>
        <td><a>List of attribute values of the items on which the pricing rule adjustments are applied. </a></td>
        <td><a><code>COMBINATION</code>, <code>ITEM_QUANTITY</code> and <code>SURCHARGE</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleTargetCategory</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Target&nbsp;</code></b></a></td>
        <td><a>List of categories of the items on which the pricing rule adjustments are applied.</a></td>
        <td><a><code>COMBINATION</code>, <code>ITEM_QUANTITY</code> and <code>SURCHARGE</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRuleTargetCategory</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Target&nbsp;</code></b></a></td>
        <td><a>List of categories of the items on which the pricing rule adjustments are applied.</a></td>
        <td><a><code>COMBINATION</code>, <code>ITEM_QUANTITY</code> and <code>SURCHARGE</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRulePriceTypeTrigger</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Trigger&nbsp;</code></b></a></td>
        <td><a>List of price types which contribute to the total for <code>ORDER_TOTAL</code> calculation.</a></td>
        <td><a><code>ORDER_TOTAL</code></a></td>
    </tr>
    <tr>
        <td align="center"><a><b><code>PricingRulePriceTypeTarget</code></b></a></td>
        <td align="center"><a><b><code>&nbsp;Target&nbsp;</code></b></a></td>
        <td><a>List of price types on which the pricing rule adjustments are applied.</a></td>
        <td><a><code>COMBINATION</code>, <code>ITEM_QUANTITY</code> and <code>ORDER_TOTAL</code></a></td>
    </tr>
  </table>
</p>
<p> Following is true for different type of Rules
 <br><b>Combination rule:</b>
        <ul>
                <li>Only exclusion for trigger or target is not allowed. </li>
                <li>AssociateInclusionCategoryAttributeForTrigger=Y then following is the behavior. For target items behavior is same as trigger item if AssociateInclusionCategoryAttributeForTarget is Y.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center"> Items belonging to any of the included category but not in excluded category and satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as trigger item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center"> Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as trigger item. </td>
                </tr>   
                </table>
        </li>
                <li>AssociateInclusionCategoryAttributeForTrigger=N or null then following is the behavior. For target items behavior is same as trigger item if AssociateInclusionCategoryAttributeForTarget is N or null.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center">Items belonging to any of the included category but not in excluded category or satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as target item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center"> Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as target item. </td>
                </tr>   
                </table>
        </li>
        <li>If ApplyAdjustmentToRemainder is enabled, then following conditions should hold true
                <li>The Rule Target must be a subset of the Trigger</li>
                <li>WhenToApply="EACH_COMBINATION" is not supported when the trigger and target excludes do not match. In these cases only, it is instead defaulted to WhenToApply="ALL"</li>
        </li>
  </ul>
 <br><br><b>Item quantity rule or Shipping surcharge rule:</b>
        <ul>
                <li>Promotion can not have trigger conditions. </li>
                <li>Promotion can not have only exclusion in target. </li>
                <li>For target items if category or attribute is defined then individually items can only be defined for exclusion. </li> 
                <li>AssociateInclusionCategoryAttributeForTrigger or AssociateExclusionCategoryAttributeForTrigger do not have any significance for this rule type. </li> 
                <li>AssociateInclusionCategoryAttributeForTarget=Y then following is the behavior.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center"> Items belonging to any of the included category but not in excluded category and satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as target item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center"> Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as target item.  </td>
                </tr>   
                </table>
        </li>
                <li>AssociateInclusionCategoryAttributeForTarget=N or null then following is the behavior.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center">tems belonging to any of the included category but not in excluded category or satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as target item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center">Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as target item. </td>
                </tr>   
                </table>
        </li>
  </ul>
  
 <br><br><b>Order total rule or Ship order total rule:</b>
        <ul>
                <li>Promotion can accept target criteria from input. </li>
                <li>Trigger can have only exclusion conditions. </li>
                <li>CopyTriggerExclusionsToTargetExclusionsTrigger flag can be used for copying trigger exclusion conditions to target exclusion conditions. Default value for the flag CopyTriggerExclusionsToTargetExclusionsTrigger is Y for order total rules, So by default exclusion trigger conditions are copied to target exclusion condition so that amount spent on excluded items will not be considered from price calculation. </li>
                <li>CopyTriggerInclusionsToTargetInclusions flag can be used for copying trigger conditions to target conditions. </li>
                <li> <code>QualifierAmount</code> and <code>QualifierAmountType</code> are applicable only when Trigger conditions are defined for OrderTotal Rule. Throws "YPM10134" error code if this condition fails.</li>
                <li>AssociateInclusionCategoryAttributeForTrigger=Y then following is the behavior. For target items behavior is same as trigger item if AssociateInclusionCategoryAttributeForTarget is Y.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center"> Items belonging to any of the included category but not in excluded category and satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as trigger item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center"> Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as trigger item. </td>
                </tr>   
                </table>
        </li>
                <li>AssociateInclusionCategoryAttributeForTrigger=N or null then following is the behavior. For target items behavior is same as trigger item if AssociateInclusionCategoryAttributeForTarget is N or null.
                        <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;All trigger conditions are defined (category, attribute, item )&nbsp; </b></td>
                        <td align="center">Items belonging to any of the included category but not in excluded category or satisfying all inclusion attribute value but not having any excluded attribute value and not part of the individually excluded item list qualifies as target item. </td>
                </tr>
                        <tr>
                        <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;Promotion has attributes and items&nbsp; </b></td>
                        <td align="center"> Items having all include attribute but not excluded attribute and do not belong to individually excluded item list qualifies as target item. </td>
                </tr>   
                </table>
        </li>
        <li>Promotion can accept target criteria from input. </li>
        <li>BC support is enabled only when there are no target criteria available and  WhenToApply="SINGLE_ITEM"</li>
        
  </ul>
  <br><br><b>Free Gift rule:</b>
        <ul>
                <li>Pass isFreeGiftRule="Y" to enable. Pricing org-level rule PRICING_ENABLE_FREE_GIFT must be enabled for free gift rules to be created/evaluated.</li>
                <li>Free gift rules may only be of type ORDER_TOTAL or COMBINATION.</li>
                <li>Free gift rules provide an automatic 100% discount; Adjustment and AdjustmentType are not honored if passed.</li>
                <li>Free gift rules can automatically add lines if a single target item is specified, or if only one valid target item is present on the order. Automatically added lines are filtered on global exclusions only.</li>
                <li>Free gift rules can apply only to lines marked as IsFreeGiftLine="Y" in getOrderPrice call. These lines, their costs, and their items are never used as triggers for any pricing rule.</li>
                <li>If WhenToApply is ALL, free lines will not be added automatically, since quantity to add cannot be determined.</li>
  </ul>
  <br><br><b>Global Exclusion rule:</b>
        <ul>
                <li>Promotion can not accept target conditions from the input, all the trigger exclusions are copied to target exclusions. Throws <code>YPM10131</code> error code when target conditions are passed from the input.</li>
                <li>Promotion can not have target and trigger inclusion conditions. Throws <code>YPM10122</code> error code when target or trigger inclusions are passed in the input.  </li>
                <li>Promotion can not have action declarations. Throws <code>YPM10123</code> error code when action declarations are passed in the input. </li>
                <li>Promotion can not be marked as coupon rule. Throws <code>YPM10124</code> error code when rule is marked as coupon rule.</li>
                <li>Promotion can not be marked as manual rule. Throws <code>YPM10124</code> error code when rule is marked as manual rule.</li>
                <li>Default value for StartDateActive is lowest date <code>01/01/1900</code> and Default value for EndDateActive is highest date <code>01/01/2500</code>.</li>
                <li>Only one Global exclusion rule is allowed per one Pricing Organization. Throws <code>YPM10111</code> error code when Global exclusion rule already exists for this Pricing Organization.</li>
  </ul>
</p>
<br>*Order total or total price of the order is the price of the order prior to shipping and tax. 
<br>**Shipping Surcharge coupon is an invalid rule configuration.
<br>
 <p>Not all the attributes or elements passed to the API are relevant for a rule, based on its type and category.
 For ex: <code>CarrierServiceCode</code> and <code>MinimizeNumberOfShipments</code> are not applicable for a pricing category of rules.
 Attributes and elements not applicable for that type and category of pricing rule are discarded by the API. 
 Following are the components of a rule for different types of pricing rule or coupon:
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">   
        <tr>
            <td rowspan="2" nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>RuleType</b></td>
            <td rowspan="2" nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>&nbsp;IsCouponRule&nbsp;</b></td>
            <td colspan="3" nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Components of rule</b></td>
        </tr>
        <tr>
            <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Target</b></td>
            <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Triggering condition</b></td>
            <td nwrap="true" align="center" BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Action</b></td>
        </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;COMBINATION&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>Yes or No</code></b></a></td>
            <td><a>One or more of <code>PricingRuleTargetItem</code> or <code>PricingRuleTargetAttributeValue</code> or <code>PricingRuleTargetCategory</code> is required.</a></td>
            <td><a>Zero or more <code>PricingRuleItem</code> or <code>PricingRuleAttributeValue</code> or <code>PricingRuleCategory</code> that holds the combination of Items, Attribute values and Categories respectively. Rule is triggered only if the combination of items or Combination of Attribute Values or Combination of Categories are satisfied and the target items are present.</a></td>
            <td><a>One or more <code>PricingRuleAction</code> that holds the adjustment to be applied based on quantity tiers of items. Adjustment is targeted to only those items that satisfy target inclusion conditions and does not satisfy target exclusion conditions.</a></td>
        </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;ITEM_QUANTITY&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>No</code></b></a></td>
            <td><a>One or more of of <code>PricingRuleTargetItem</code> or <code>PricingRuleTargetAttributeValue</code> or <code>PricingRuleTargetCategory</code> inclusion target is required.</a></td>
            <td><a><code>PricingRuleTargetAttributeValue</code> or <code>PricingRuleTargetItem</code> or <code>PricingRuleTargetCategory</code> defined as inclusions itself acts as trigger. For any item that belong to the item attribute value specified in <code>PricingRuleTargetAttributeValue</code> or exists in <code>PricingRuleTargetItem</code> or any item that belong to the category specified in <code>PricingRuleTargetCategory</code>  then the rule is triggered.</a></td>
            <td><a>One or more <code>PricingRuleAction</code> that holds the adjustment to be applied based on quantity tiers of items. Adjustment is targeted to only those items that triggered this rule.</a></td>
        </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;ITEM_QUANTITY&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>Yes</code></b></a></td>
            <td><a>One <code>PricingRuleTargetItem</code> is required.</a></td>
            <td><a><code>PricingRuleTargetAttributeValue</code> or <code>PricingRuleTargetItem</code> or <code>PricingRuleTargetCategory</code> defined as inclusions itself acts as trigger. For any item that belong to the item attribute value specified in <code>PricingRuleTargetAttributeValue</code> or exists in <code>PricingRuleTargetItem</code> or any item that belong to the category specified in <code>PricingRuleTargetCategory</code>  then the rule is triggered.</a></td>
            <td><a>One or more <code>PricingRuleAction</code> that holds the adjustment to be applied based on quantity tiers of items. Adjustment is targeted to only those items that triggered this rule.</a></td>
        </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;ORDER_TOTAL&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>Yes or No</code></b></a></td>
            <td><a>All active order total rules are evaluated. Only Exclusion conditions are also allowed for <code>ORDER_TOTAL</code> rule.</a></td>
            <td><a>If <code>CopyTriggerInclusionsToTargetInclusions="Y"</code> then all the trigger inclusion conditions are copied to Target inclusion conditions.</a> <a>If <code>CopyTriggerExclusionsToTargetExclusions="N"</code> then the trigger exclusion conditions are not copied to Target exclusion conditions.</a></td>
            <td><a>One or more <code>PricingRuleAction</code> that holds the adjustment to be applied based on tiers of the <code>OrderTotal</code> based  on sum of all item prices except the items that are excluded as part of trigger criteria and global exclusions. If there are no specific inclusion targets then Adjustment is targeted to all the items except the items that are excluded as part of target criteria and global exclusions. If there are specific inclusion targets then Adjustment targeted to the qualified target items except the items that are excluded as part of target criteria and global exclusions. </a></td>
         </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;SURCHARGE&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>No</code></b></a></td>
            <td><a>One or more <code>PricingRuleTargetAttributeValue</code> is required.</a></td>
            <td><a><code>PricingRuleTargetAttributeValue</code> acts as trigger. For any item that belong to the item attribute value specified in <code>PricingRuleTargetAttributeValue</code> the rule is triggered.</a></td>
            <td><a>One or more <code>PricingRuleAction</code> that holds the adjustment to be applied based on quantity tiers of items. Adjustment is targeted to only those items that triggered this rule.</a></td>
        </tr>
        <tr>
            <td align="center"><a><b><code>&nbsp;GLOBAL_EXCLUSION&nbsp;</code></b></a></td>
            <td align="center"><a><b><code>No</code></b></a></td>
            <td><a>Can not accept any Target condition from the input, all the trigger exclusions are copied to target exclusions. Throws <code>YPM10131</code> error code when target conditions are passed in the input.</a></td>
            <td><a>Accepts only exclusion trigger conditions. zero or more <code>PricingRuleItem </code> or <code>PricingRuleAttributeValue </code>  or <code>PricingRuleCategory</code> is required. Items that satisfy global exclusion rule trigger conditions are not be part of any Pricing rule trigger or target criteria.</a></td>
            <td><a>Not Applicable.</a></td>
         </tr>
  </table>
 </p>   
<p>
 <br/>
 <b>Coupon Code Generation</b>
 <br/><br/>
 Unique coupon codes can be generated for a coupon rule when <code>GenerateUniqueCodes</code> is set to <code>"Y"</code>. Before any unique codes can be generated 
 for a coupon rule a CouponPolicy must be created (see manageCouponPolicy api). In addtion coupon character sets need to be defined (see manageCouponCharacterSet api).
 <br/><br/>
 The two required fields in the mangePricingRule request for coupon code generation are <code>CodeFormat</code> and <code>NumberOfCodesToGenerate</code>. The <code>CodeFormat</code>
 attribute is a string of characters, e.g. "XXX-DDDD".  For each character in the code format string, if a coupon character set abbreviation has been defined for that character then
 that character will be replaced by a randomly chosen character from that character set.  For example assume X has been defined to be the character set "ABCDEFG" and D has been defined
 to be the character set "0123456789".  Possible codes generated for the code format string "XXX-DDDD" are: GDE-3921, BCA-2935, FCB-0592.
 <br/><br/>
 The <code>CodeFormat</code> string is only part of the full string created for the coupon code.  The <code>CouponID</code> is added to each generated coupon code.  Where in the code
 string the <code>CouponID</code> is inserted is defined in the <code>CouponPolicy</code>.  For example, say a coupon policy has been defined with these values:
 <br/><br/>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<u>CouponPolicy</u>: (CouponIdLength=4) (CouponIdStartingIndex=0)
 <br/><br/>
 If the <code>CouponID</code> for the coupon rule is "<code>CouponRule1</code>" then based on what is defined in the <code>CouponPolicy</code> the first 4 characters of the coupon id
 will be inserted into the coupon code string at position 0. Continuing with the <code>CodeFormat</code> string being "XXX-DDDD", example complete coupon code strings that would be generated
 are: CoupGDE-3921, CoupBCA-2935, CoupFCB-0592.  It is important that the first N characters of each <code>CouponID</code> be unique so that the coupon codes can be matched back to the
 correct coupon rule definition.
 <br/><br/>
 If the values for <code>CodeFormat</code> or <code>NumberOfCodesToGenerate</code> are changed all the the existing generated unique codes will be made invalid and a new set of
 unique codes will be generated.
 <br/><br/>
</p>
 <p>
  <!--- TABLE START --->
  <a name="xmltable"></a>
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
        <tr>
                <td COLSPAN=8 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
        <tr>
                <td><a href="../../../../../XSD/HTML/YPM_managePricingRule_input.html">Input XML</a></td>
                <td><a href="../../../../../dtd/YPM_managePricingRule_input_dtd.txt">Input DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YPM_managePricingRule_output.html">Output XML</a></td>
                <td><a href="../../../../../dtd/YPM_managePricingRule_output_dtd.txt">Output DTD</a></td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
 <p><B>User Exits:</B> None
 
 <p><B>Events Raised:</B>
 <br>These events are raised under the MANAGE_PRICING_RULE transaction.
 <ul>ON_SUCCESS:
 <ul>This event is raised after successful creation, modification or deletion of a pricing rule.
 <br>Keydata: Not published.
 <br>Data published: <a href="../../../../../XSD/HTML/YPM_MANAGE_PRICING_RULE.ON_SUCCESS.html">YPM_MANAGE_PRICING_RULE.ON_SUCCESS.xml</a>
 <br>Template Support: Yes </ul></ul>

 <p><B>Audits:</B>Audits are written for every table record affected by this API only if the table's definition 
 has <code>AuditRequired</code> set to <code><b>Y</b></code> and the system property <code>audit.required</code> is set to <code><b>true</b></code>.
 <p><B>Pre-conditions:</B> None
 <p><B>Post-conditions:</B> None
 <p><B>Output Template Support:</B> Yes
 <p><B>Database Extensibility Support:</B> Yes
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
<br>
<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains all the information about the price rule. For details on the output, refer to the associated 
<a href="#xmltable">output files</a>. 
<br>
</p></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes.  in the standard  <a href="#xmltable">error files</a>.</dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.
<br>
<br></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/ypm/pricingRule/getPricingRuleList.html" title="interface in com.yantra.api.ypm.pricingRule"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/ypm/pricingRule/managePricingRule.html" target="_top">Frames</a></li>
<li><a href="managePricingRule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>
