<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Wed Sep 28 16:02:41 UTC 2022 -->
<title>changeOrder (IBM Sterling Dev java docs)</title>
<meta name="date" content="2022-09-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="changeOrder (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 10.0</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/cancelMasterOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/changeOrderInvoice.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/changeOrder.html" target="_top">Frames</a></li>
<li><a href="changeOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="changeOrder" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.yantra.api.omp.order</div>
<h2 title="Interface changeOrder" class="title" id="Header1">Interface changeOrder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.OMPApi, <a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">changeOrder</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/omp/order/changeOrder.html#changeOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">changeOrder</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
           org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block">The <code>changeOrder</code> API takes the input XML file for an updated order.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="changeOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>changeOrder</h4>
<pre>org.w3c.dom.Document&nbsp;changeOrder(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                 org.w3c.dom.Document&nbsp;inXML)
                          throws com.yantra.yfs.japi.YFSException,
                                 java.rmi.RemoteException</pre>
<div class="block"><p>The <code>changeOrder</code> API takes the input XML file for an updated order. The updated order is examined
 and only changed values are applied to the order.
 <p>For example,
 <ul>An <code>OrderLine</code> is created with an <code>OrderedQty</code> value of <b><code>10</code></b>. Later, the <code>OrderedQty </code>
 value is changed to <b><code>12</code></b>,  and <code>ReqShipDate</code> is also changed.
 The caller program does not need to know what changed;
 the entire order can be passed with whatever state it is in and
 the <code>changeOrder</code> API determines the changes and updates both the <code>orderedQty</code> and <code>ReqShipDate</code>,
 and update all relevant databases. </ul>
 <p> The <code>changeOrder</code> API can also create future authorizations before scheduling orders based on payment configuration and if there are expired authorizations. The future authorizations are created if the <code>authorize before schedule</code> and <code>delay authorization for x hours</code> rule are configured. 
 <p>When the <code>changeOrder</code> API is called, the next alert of the order is updated to the current date of the database,
 even if the order does not actually change. This allows any necessary processing to occur shortly after the changes to the order.
 <p>Only attributes with changed values are validated.
 <p>If existing addresses in <code>PersonInfoBillTo</code> or <code>PersonInfoShipTo</code> require modification, then all desired
  address information should be passed to the <code>changeOrder</code> API. Any address attributes not passed will be reset.
 <p>
 <B> Business Validation</B>
 <p> Business Validation framework is invoked when normal business rules needs  be overridden for the order to proceed. Please refer to <a href="../../omp/order/createOrder.html">createOrder</a> API for more details.</p>
<p>

 <B> Entitlement Rules </B>
 <p>The order gets updated only if the customer on the order and the calling organization are entitled to all the items listed in the order.
 <code>ValidateItem</code> flag must be set to true on order line to apply entitlements. The entitlement rules are applied as follows: 
 <ul>
 <li>Customer Entitlements: Customer entitlement rules are applied based on <code>Item Entitlement Strategy</code> rule set by the customer's enterprise organization. The values of this rule
 are interpreted as follows:
 <ul>
 <li>01 - Item entitlement logic is enforced based only on the item entitlement rules assigned to the customer.</li>
 <li>02 - Item entitlement logic is enforced based only on the pricelists assigned to the customer.</li>
 <li>03 - Item entitlement logic is enforced based on the intersection of item entitlement rules and pricelists assigned to the customer.   This indicates that only the entitled items with valid price assigned will be presented to the customers.</li>
 <li>04 - Item entitlement logic is ignored.</li>
 </ul>
 
 <li>Selling Entitlements: Selling entitlement rules get applied when the calling organization is not a catalog organization. These rules are
 applied regardless of what entitlement strategy is selected
 </ul>
 <p>
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
        <tr>
                <td COLSPAN=8 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
        <tr>
                <td> <a href="../../../../../XSD/HTML/YFS_changeOrder_input.html"> Input XML</a></td>
                <td><a href="../../../../../dtd/YFS_changeOrder_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../../XSD/HTML/YFS_changeOrder_output.html">Output XML</td>
                <td><a href="../../../../../dtd/YFS_changeOrder_output_dtd.txt">Output DTD</td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
 <!-- TABLE END -->
 <p> <B>Input xml:</B><br>
 PaymentDetails element under PaymentMethod element is deprecated, it is replaced by PaymentDetailsList element such that multiple payment details can be passed at a time for a payment method.Refer to input xml.<br></p>
 <p> <B>User Exits:</B><br>
 Depending on modifications taking place, the <code>changeOrder</code> API may call certain user exits.
 </br>Any quantity change that includes adding an <code>OrderLine</code>, modifying quantity or canceling quantity may invoke following user exits:
 <ul style="list-style-type: none">
        <li><a href="../../../ycm/japi/ue/YCMGetItemDetailsUE.html">com.yantra.ycm.japi.ue.YCMGetItemDetailsUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSRecalculateHeaderTaxUE.html">com.yantra.yfs.japi.ue.YFSRecalculateHeaderTaxUE</a>
                        <ul style="list-style-type: square">
                                <li style="list-style-type: none">This user exit is called when one of the following conditions is met:</li>
                                <li>If the element HeaderTax is not passed and pricing is effected.</li>
                                <li>It is also called if the TAX_EXEMPT_FLAG value changes on the order header and the HeaderTax element is not passed.</li>
                                <li>YFSOrderRepricingUE is invoked and returns HeaderCharges but not HeaderTaxes.</li>
                                <li>The ShipTo information changes</li>
                        </ul>
        </li>
        <li><a href="../../../yfs/japi/ue/YFSRecalculateLineTaxUE.html">com.yantra.yfs.japi.ue.YFSRecalculateLineTaxUE</a>
                <ul style="list-style-type: square">
                        <li style="list-style-type: none">This user exit is called when one of the following conditions is met:</li>
                        <li>If the element LineTaxes not passed or it has not changed since last called to API.</li>
                        <li>It is also called if the TAX_EXEMPT_FLAG value changes on the order header and the LineTax element is not passed.</li>
                        <li>YFSOrderRepricingUE is invoked and does not return LineTaxes.</li>
                        <li>The ShipTo information changes</li>
                        <li>SettledQuantity on the order line's LinePriceInfo is changed. Note: Tax information returned from the user exit is not persisted as a LineTax, but is used to adjust the SettledAmount for the line.</li>
                </ul>
        </li>
        <li><a href="../../../yfs/japi/ue/YFSDetermineDateForPricingUE.html">com.yantra.yfs.japi.ue.YFSDetermineDateForPricingUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSOrderRepricingUE.html">com.yantra.yfs.japi.ue.YFSOrderRepricingUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSBeforeChangeOrderUE.html">com.yantra.yfs.japi.ue.YFSBeforeChangeOrderUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetTagNoUE.html"> com.yantra.yfs.japi.ue.YFSGetTagNoUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetExternalResourcePoolCapacityUE.html">com.yantra.yfs.japi.ue.YFSGetExternalResourcePoolCapacityUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetExternalInventoryUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetExternalInventoryForItemListUE.html">com.yantra.yfs.japi.ue.YFSGetExternalInventoryForItemListUE</a></li>
        <li><a href="../../../yfs/japi/ue/INVGetExternalSupplyUE.html">com.yantra.yfs.japi.ue.INVGetExternalSupplyUE</a></li>
        <li><a href="../../../yfs/japi/ue/INVGetSupplyCorrectionsUE.html">com.yantra.yfs.japi.ue.INVGetSupplyCorrectionsUE</a></li>
        <li><a href="../../../yfs/japi/ue/INVGetDemandCorrectionsUE.html">com.yantra.yfs.japi.ue.INVGetDemandCorrectionsUE</a></li>
        <li><a href="../../../yfs/japi/ue/OMPDetermineBestMultiStopTransferUE.html">com.yantra.yfs.japi.ue.OMPDetermineBestMultiStopTransferUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetFundsAvailableUE.html">com.yantra.yfs.japi.ue.YFSGetFundsAvailableUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetExternalDataForValidationUE.html">com.yantra.yfs.japi.ue.YFSGetExternalDataForValidationUE</a>
                <p>Invoked if Business Validation is enabled.</p>
        </li>
        <li><a href="../../../yfs/japi/ue/YFSValidateExternalPromotionsUE.html">com.yantra.yfs.japi.ue.YFSValidateExternalPromotionsUE</a>
                <p>Invoked when ValidateExternalCoupons flag is passed in input</p>
        </li>
        <li><a href="../../../yfs/japi/ue/YFSGetExternalAvailabilityUE.html">com.yantra.yfs.japi.ue.YFSGetExternalAvailabilityUE</a>
                <p>Invoked when reservation is passed for order line</p>
        </li>
        <li><a href="../../../yfs/japi/ue/OMPProcessRoutingExternallyUE.html">com.yantra.yfs.japi.ue.OMPProcessRoutingExternallyUE</a></li>
        <li><a href="../../../yfs/japi/ue/OMPGetExternalCostForOptionsUE.html">com.yantra.yfs.japi.ue.OMPGetExternalCostForOptionsUE</a></li>
        <li><a href="../../../yfs/japi/ue/YFSGetDeliveryLeadTimeUE.html">com.yantra.yfs.japi.ue.YFSGetDeliveryLeadTimeUE</a></li>
 </ul>
 
 <p><em>Note:</em>If order line price are to be recalculated, additional pricing user exits may be invoked. 
 Refer to <a href="../../omp/order/repriceOrder.html">repriceOrder</a> API for more details.</p>
 
 <br> <B>Events Raised:</B>
 </br>These events are raised under base transaction <code>ORDER_CHANGE</code>.
 <p><code>ON_SUCCESS</code>:
        <ul>This event is raised upon successful execution of the <code>changeOrder</code> API.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_SUCCESS.html">YFS_ORDER_CHANGE.ON_SUCCESS.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. Some of the elements and attributes are not template driven. Refer to the xml for element level details.</ul>
 
 <p><code>INCOMPLETE_PAYMENT_INFORMATION</code>: 
        <ul>This event is raised when the <code>changeOrder</code> API is called
        to change an existing  <code>PaymentMethods</code> or add  <code>PaymentMethods</code> to an <code>OrderLine</code>,
        and any of the resulting <code>PaymentMethods</code> is incomplete. In such case, <code>PaymentStatus</code> on the order is set as <b><code>AWAIT_PAY_INFO</code>. 
   This event is not applicable to Quotes.</b>.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.INCOMPLETE_PAYMENT_INFORMATION.html">YFS_ORDER_CHANGE.INCOMPLETE_PAYMENT_INFORMATION.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
        <br>Template Support - Yes. Some of the elements and attributes are not template driven. Refer to the xml for element level details.</ul>
 
 <p><code>ON_UNABLE_TO_CANCEL_TRANSFER</code>: 
        <ul>This event is raised whenever the <code>changeOrder</code> API is called
        to cancel any orderline quantity and the equivalent quantity cannot be cancelled on a chained Procurement/Transfer Order.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_UNABLE_TO_CANCEL_TRANSFER.html">YFS_ORDER_CHANGE.ON_UNABLE_TO_CANCEL_TRANSFER.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. </ul>
 
 <p><code>ON_CANCEL</code>:
        <ul>This event is raised when the <code>changeOrder</code> API is called to cancel quantity from any of the <code>OrderLine</code>s belonging to this order.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_CANCEL.html">YFS_ORDER_CHANGE.ON_CANCEL.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
        <br>Template Support - Yes. Some elements and attributes are not attribute driven. See input xml for  element level details.</ul>
 
<p><code>ON_ZERO_UNIT_COST</code>: 
        <ul>This event is raised when the unit cost is zero for any of the order lines. Published data will include only the order lines with zero unit cost.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_ZERO_UNIT_COST.html">YFS_ORDER_CHANGE.ON_ZERO_UNIT_COST.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a>
        <br>Template Support - Yes. </ul>

<p><code>ON_HOLD_TYPE_STATUS_CHANGE</code>: 
        <ul>This event is raised for each hold type of which status has been changed.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ON_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_HOLD_TYPE_STATUS_CHANGE.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. </ul>

<p><code>ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE</code>: 
        <ul>This event is raised for each hold type of which status has been changed.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.html">YFS_ON_ORDER_LINE_HOLD_TYPE_STATUS_CHANGE.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. </ul>

<p><code>ON_ADJUSTMENT_INVOICE_CREATION</code>: 
        <ul>This event is raised when an adjustment invoice is created for the order.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_ADJUSTMENT_INVOICE_CREATION.html">YFS_ORDER_CHANGE.ON_ADJUSTMENT_INVOICE_CREATION.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. </ul>

<p><code>ON_ORDER_RELEASE_STATUS_CHANGE</code>: 
        <ul>This event is raised when an order release status is changed for the order.
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.html">YFS_ORDER_CHANGE.ON_ORDER_RELEASE_STATUS_CHANGE.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes. </ul>

<p><code>ON_AWAITING_RESERVATION_ACCEPTANCE</code>: 
        <ul>This event is raised for each status on order. 
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.ON_AWAITING_RESERVATION_ACCEPTANCE.html">YFS_ORDER_CHANGE.ON_AWAITING_RESERVATION_ACCEPTANCE.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes.</ul>

<p><code>PROMOTION_CHANGED</code>: 
        <ul>This event updates the redemption tracking data for promotions applied to the order. 
        <br>Data published - <a href="../../../../../XSD/HTML/YFS_ORDER_CHANGE.PROMOTION_CHANGED.html">YFS_ORDER_CHANGE.PROMOTION_CHANGED.xml</a>
        <br>Key data - <a href="../../../../../dbd/modifyOrder_dbd.txt">modifyOrder_dbd.txt</a> 
        <br>Template Support - Yes.</ul>

<p>Raised during the transaction MGR_OVERRIDES.
 <ul>ON_VIOLATION:
 <ul>This event is raised upon the creation of a <code>Violation</code>.
 <br>Data published - <a href="../../../../../XSD/HTML/YSC_MGR_OVERRIDES.ON_VIOLATION.html">MGR_OVERRIDES.ON_VIOLATION.xml</a>
 <br>Key data - <a href="../../../../../dbd/violation_dbd.txt">violation_dbd.txt</a> 
<p><B>Output Template Support:</B>  Yes
 </ul></ul>
 

<p> Raised under the transaction CAPACITY_CHANGE
<ul>ON_STD_CAPACITY_FILLED:
 <ul>Raised when consumption exceeds standard capacity defined for the day.<br>
 Data Published: <a href="../../../../../XSD/HTML/INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html">INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FILLED.html</a><br/>
 Template Support: Yes<br/>
 Configuration Required for backward compatibility: No<br/>
 </ul></ul>
<ul>ON_STD_CAPACITY_FREED:
 <ul>Raised when consumption is freed and standard capacity becomes available for the day.<br>
 Data Published: <a href="../../../../../XSD/HTML/INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FREED.html">INV_CAPACITY_CHANGE.ON_STD_CAPACITY_FREED.html</a><br/>
 Template Support: Yes<br/>
 Configuration Required for backward compatibility: No<br/>
 </ul></ul>
 <ul>EXTERNAL_CAPACITY_CHANGE:
 <ul>This event is raised when capacity consumptions are changed.
 <br>Data published: <a href="../../../../../XSD/HTML/YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.html">YFS_CAPACITY_CHANGE.EXTERNAL_CAPACITY_CHANGE.xml</a>
 <br>Template Support: Yes
 </ul>
 </ul>
      <p> Raised under the transaction INVENTORY_CHANGE
<ul>INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE:
 <ul>Raised when there is a demand update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_DEMAND_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_DEMAND_CHANGE.html</a><br/>
 Template Support: Yes<br/>
</ul></ul>       
<ul>INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE:
 <ul>Raised when there is a supply update.<br>
 Key Data: <a href="../../../../../dbd/INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt">INVENTORY_CHANGE_EXTERNAL_SUPPLY_CHANGE_dbd.txt</a><br/>
 Data Published: <a href="../../../../../XSD/HTML/INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html">INV_INVENTORY_CHANGE.EXTERNAL_SUPPLY_CHANGE.html</a><br/>
 Template Support: Yes<br/>
 </ul></ul>
        
 <br><B>Configuration Required for Backward Compatibility:</B>
 <br>N/A.
 <br>
 <p><B>Audits:</B> Yes
 <p> <B>Pre-conditions:</B>
 <br> The order must already exist in the system.
 <p> <B>Post-conditions:</B> None
 <p> <B>Output Template Support:</B>
 <br> Yes. Some of the elements and attributes are not template driven. Refer to output xml for element level details.
 <p> <B>Database Extensibility Support:</B> Yes
 <br>
 <p> <B>Additional Information:</B>
 <p><b>Triggering Pricing</b>
 <blockquote>
 Certain modifications will drive when to reprice an order if using the enhanced pricing engine
 or the YFSOrderRepricingUE is not implemented. When a modification type that requires
 repricing is performed on the order, the order will be repriced based on the configured pricing 
 date. During order confirmation, if confirmed orders require pricing then the order will always be
 repriced at the time of draft order confirmation (using the configured pricing date). See the
 <code><a href="repriceOrder.html">repriceOrder</a></code> API for more details.
 </blockquote>
 <p> <b> Reservation Handling </b>
 <br> If an orderline has <code>Reservation_Mandatory</code> attribute set to <b>Y</b> or if this attribute is not passed on the line and the rule <code>Reservation Mandatory</code> is set to <b>Y</b>, any of the following changes done to an existing reserved orderline are allowed only if reservation can be made for the changed attributes also:
<br>a) Quantity is added to the order line
<br>b) Shipnode is changed
<br>c) ProcureFromNode is changed
<br>d) Inventory attributes such as Segment, SegmentType, Inventory Tag attributes are changed.
 <br> Only if the inventory is available for the changed attributes of the orderline, the changes are made else an error is thrown. However, if reservation is not mandatory, and the rule <code>Suppress Reservation Validation On Line Change</code> is set to <b>Y</b>, then no attempt is made to check inventory for the changed attributes of the existing quantity. This rule suppresses validation only for the existing quantity of the line and not for any new added quantity. However, if the reservation check is not suppressed, an attempt will be made to reserve inventory for the line. If reservation cannot be made and Reservation is not mandatory, then the unreserved quantity of the line is moved to either <code>Draft Order Created</code> status (for a Draft Order) or <code>Created</code> status. 
<br> For a new line being added to the order, if Reservation is mandatory and reservation cannot be done, then the order line is not created. Such order lines are given in the api output under <code>UnprocessedLines</code> node. This node is not template controlled and will always be shown whenever a line cannot be created due to reservation failure.
<br> If line is reserved, when reducing quantity no other attribute (listed above) can be modified in the same api call.
 </p>
 <p><b>Order Line Reservations</b>
 <br> Multiple reservations can be passed for a given order line under <code>OrderLineReservation</code> element.  Any valid reservation will be accpeted.  Nodes, dates, item information
 do not have to match.  Later <code>scheduleOrder</code> will use these reservations as supplies that are only available for a given line.  If the reservation is successful,
 the order line reservation will be created; line will not be in Reserved status and remain in Created status.  
 <br> Additionally reservations will be distributed from bundle parent to bundle components, in case
 order line reservations for components are passed for the bundle parent.  
 <br>If ReservationID is not passed on order line reservation, api will automatically attempt to reserve quantity from available supply. 
 </p>
 <p><b>Preventing Double Demands Due To Order Line Reservations</b>
 <blockquote>For each positive order line reservation for the line, a negative order line reservation
 will be created for the quantity that matches the status. The demand type of this negative order line 
 reservation is based on the status of the line. If that status corresponds to anything other than a 
 non-committed (unpromised) demand type, the negative order line reservation will not be made.<br><br>
 For example, when adding an order line reservation for 4 quantity to an order line, which has 10 
 quantity in <code>Created</code> status, an order line reservation will be created for -4 quantity with 
 <code>OPEN_ORDER</code> as the demand type. The demand picture after the <code>changeOrder</code> call
 will show that there is 6 <code>OPEN_ORDER</code> (10 line status - 4 line reservation) and 4 
 <code>RSRV_ORDER</code> (4 line reservation).</blockquote>
 </p>
 <p><b>Capacity Allocation</b>
 <br>The following changes made to an order will result in capacity recheck:
 <p><ul>a) <code>PromisedApptStartDate</code> or <code>PromisedApptEndDate</code> change
 <br>b) Shipnode change
 <br>c) ShipToAddress change
 <br>d) Quantity is added through quantity addition to associated product lines or through new association, or through quantity addition to standalone PS lines.
 <br>e) Option is added.
 <br>f) Any quantity is cancelled or Option is removed.
 </ul>
 <br>If capacity is available, capacity allocated for the old appointment (if existed) would be lost and new capacity would be allocated. When quantity is cancelled, the capacity allocated for that quantity would be lost. If appointment dates are blanked out, the capacity allocated is lost.
 <br>If customer exists for the order and the <code>CanConsumeSupplementalCapacity</code> attribute of the customer is set to <code><b>Y</b></code>, supplemental capacity of the resource pool which can serve the service line will be considered in its availability calculation. 
 <p><b>Date Handling at the Order and OrderLine level</b>
 <br>
 <p>If both <code>ReqShipDate</code> and <code>ReqDeliveryDate</code> are passed, then the specified values are used.
 <p> If a date value is not passed, the date is stored as 01/01/2400 in the database, which signifies NULL Date.
 <p> A change in the Requested date results in a change in Earliest Dates.
 <p> Earliest Ship and Delivery dates are computed based upon the  <code>RequestedShipDate</code> and <code>DeliveryDate</code> passed. If the requested date is not passed at <code>OrderLine</code> level, dates at the Order level are used for setting the earliest dates. If  <code>RequestedShipDate</code> and <code>DeliveryDate</code> is not passed in the <code>Order</code> or  <code>OrderLine</code> entity, then the earliest ship date is set to the current date,
    and the earliest delivery date is calculated by adding the Transit Time to the earliest ship date.
 <p> <b>Order and OrderLine Level</b>
 <br> If  either requested date is changed at the <code>Order</code> element and  at the <code>OrderLine</code> element, and the requested date is a NULL Date, then the earliest date is changed  in the <code>OrderLine</code>. If the requested date is present at <code>OrderLine</code> level and is not changed, but the requested date is changed at the Order, the earliest date is not changed at <code>OrderLine</code> level.
 <br><br> If <code>AllocationDate</code> is not passed and <code>ReqShipDate</code> is modified, <code>AllocationDate</code> is computed as <code>ReqShipDate</code> minus advance notification time.
 <br><br> If <code>Compute Expected Date When Requested Date On Pickup Order Lines Are Changed</code> rule is checked, the <code>ReqShipDate</code> and <code>ReqDeliveryDate</code> can be modified for pickup lines even after schedule. The date modification for pickup lines will not be controlled by status modification rules. The date change is only allowed if <code>OrderLine</code> is not completely included in shipment. If the pickup line is partially included in shipment then the date changes are propagated only to the quantity that is not included in shipment. Demand updates will be made for the changed earliest dates on the <code>OrderLine</code>. No inventory checks are performed, inventory is assumed to be present.
 </ul></ul>
 <p> <b>Updating and Validating Attributes</b>
 <p>Only attributes with changed values are validated.
 <p>If existing addresses in <code>PersonInfoBillTo</code> or <code>PersonInfoShipTo</code> require modification, then all desired
  address information should be passed to the <code>changeOrder</code> API. Any address attributes not passed will be reset.
 <p>Updating any attribute related to Billing through the api call will not update any attribute related to Shipping. The inverse is also true, 
  such that updating any attribute related to Shipping through the api call will not update any attribute related to Billing.
 <p> <b>Modification Type</b>
 <ul>When an order is changed, the system validates that the change is allowed, based on the modification types that are relevant for that change.  Modification types are configured using the system user interface tools.
 <p>If any attribute is changed at the order header level when calling this API to remove all existing lines and add a new line simultaneously, then, status modification rules configured for cancelled status will be applied to the changed header attribute. 
 <p>For example, passing a larger quantity for an order line results in validation based on the modification type <code>Add Quantity</code>.
  Typically, <code>Add Quantity</code> is configured so that quantity cannot be added to the <code>OrderLine</code> after the
  <code>Order</code> has shipped. If the <code>changeOrder</code> API is called passing input data that increases the quantity for
  an <code>OrderLine</code>, the <code>Order</code> has already shipped, and the <code>Add Quantity</code> modification type does not allow adding a quantity after shipping, an error is thrown.
 <p>Currently, changing an order's billing address after an order is shipped will not have the new address propagated
 to shipped shipments, return orders, or any other related entities.</p>
 <p>The following describes how modification types are propagated under various conditions.
 <p> <b>Processing modification types for Order to Order Releases</b>
 <hr>
 <p><b>Modification type values:</b> Change ShipTo, ChangeCarrier, Change Carrier Service Code, Change Carrier Account No, Change Delivery Code,  Change Freight Terms, Change Mark For, Cancel
 <ul><p> If an Order has Order Release, the change passed in to the <code>changeOrder</code> API is also applied to the Order Release. The Order and Order Release must have the same value for the attribute(s) being changed.
 If they had different values, no change is applied to the Order Release.
 <p>For example,
 <br>Order and one of its Order Releases has a carrier value <b><code>C1</b></code>. The <code>changeOrder</code> API
 is called with a carrier value of <b><code>C2</code></b>. The Carrier value is changed to <b><code>C2</code></b> for both Order and Release.
 <br>If the modification type is <code>Cancel</code>,  all the releases are cancelled if <code>Order\Action</code> is passed as <b><code>CANCEL</code></b>.
 </ul>
 <p><b>Processing modification types for Dependent Order Lines</b>
 <hr>
 <ul>An <code>OrderLine</code> can either be a parent to, or a dependent of, another <code>OrderLine</code>. When these dependencies exist, changes can occur to just the parent, just the child, or both. See the following for information about what happens for certain modification types, and any special conditions which apply.
 <p><b>Modification type value:</b> Add Line
 <br>If the new line depends on another line, dependency information can be passed. <code>DependentOnLineKey</code> can be passed if the parent line already exists. Otherwise
 <code>DependentOnPrimeLineNo</code> and <code>DependentOnSubLine</code> must be passed. Refer to <code>createOrder</code> for other validations and updates.
 <p><b>Modification type values:</b> Cancel, Back Order, Add Quantity, Change Price
 <br>These modifications can be done on to the dependent lines and the parent line independently.
 <p><b>Modification type values:</b> Change ReceivingNode, Change ShipTo
 <br>If the  <code>DependencyShippingRule</code> is <b><code>02</code></b> - <i>DeliverTogether:</i>.
 <ul><br>If these modifications are done for a parent line that has dependent lines associated with it, then all of its dependent lines are also changed with the same values.
 <br>Modifications done on a dependent line are ignored. The dependent line retains the parent line's values.
 </ul>
 <p><b>Modification type value:</b> Change ShipNode
 <br>If the <code>DependencyShippingRule</code> is <b><code>01</code></b> - <i>DeliverTogether</i>.
 <ul><br>If <code>ShipNode</code> is  modified for a line that has dependent lines associated with it,
 then the <code>ShipNode</code> on all its dependent lines are also changed.
 <br>If <code>ShipNode</code> is modified for a dependent line, the change is ignored. The child line retains the parent line's value.
 </ul>
 <p><b>Modification type value:</b> Others (Modification of MergeNode)
 <br>The Modification type <code>OTHERS</code> is used to change the MergeNode. The <code>MergeNode</code> is modified on the line specified, if <code>DependencyShippingRule</code> value is not <b><code>02</code></b> - <i>DeliverTogether</i>.
 <br>If <code>MergeNode</code> is being modified for a parent line that has dependent lines associated with it, then the <code>MergeNode</code> on each of  the dependent lines is also changed.
 <br>If <code>MergeNode</code> is being modified for a dependent line,  the change is ignored. The dependent line retains the parent line's value.
 <p><b>Modification type value:</b> Change ReqShipDate, Change ReqDeliveryDate
 <br><code>ReqShipDate</code> and <code>ReqDeliveryDate</code> of dependent lines follow the dates that the parent line has.
 Therefore the <code>ReqShipDate</code> and <code>ReqDeliveryDate</code> on the dependent line is also changed if the value is
 changed on the parent line.
 <br> Modifications on dependent lines are ignored and they retain the parent line's dates.
 <p><b>Modification type value:</b> Remove
 <br>Dependent lines and the parent line can be removed independently.
 <br> When a parent line is removed, dependency information is removed from all its dependent lines. This implies that dependent lines are no longer dependent on this parent line.
 </ul>
 <p><b>Processing modification types for N-tier Orders</b>
 <hr>
  <p><b>Modification type value: </b> Cancel
 <br><ul> The following applies for <code>OrderLine</code>s that are chained to or chained from another <code>OrderLine</code>.
 <br>When any quantity  in the chained  line is cancelled, this change in quantity  needs to be propagated
 to the lines to which it is chained.
 <p> For example, Line1 is chained to Line2 and Line2 is chained to Line3. The Quantity <i>7</i> is to be cancelled from Line2.
 <br><ul>Line1--->Line2--->Line3
 <br> First, the quantity that is not chained to any line is cancelled. In this example, this value is <i>3</i>.
 <br> The remaining quantity (7-3 = 4) is chained to Line3 and cancelled from both Line2 and Line3.
 <br> The quantity 7 is cancelled and unscheduled from Line1 depending on the rule <code>ACTION_ON_CANCEL_FROM_CHAINED_LINE</code> (Note: This only applies to nonprocurement orders. See below for more details of cancellation of procurement orders.). 
 <br> The cancellation is carried out in ascending order starting with the non-chained/non-released statuses.
  The quantity that is chained to Line2 only is  considered to be cancel from Line1.</ul>
 <p> Note: Modification rules based on the modification type are read for each line. An error is thrown if <code>Cancel</code> is not allowed at any level.
 </ul>
 <p><b>Modification type value:</b> Add Order
 <br><ul>Quantity is added to the line for which it was passed. Adding quantity to a line that is chained from another line will cause the added quantity to be propagated up and be
 added to the line it is chained from. The additional quantity  keeps propagating upwards until the quantity is updated on the orderline
 at the top of the chain.
 Quantity that is propagated upwards in this way is added to the line with a base status <b><code>2100</b></code> and base transaction of <code>CHAINED_ORDER_CREATE</code>.
 <br> Note: Modification rules based on the modification type are read for each line. An error is thrown if <code>Add Quantity</code> is not allowed for any of the lines that are being modified.
 </ul>
 </ul>
 <p><b>Propagation of Changes from Parent Order to Procurement Order (Purchase or Transfer)</b>
 <br><ul> If the parent order is cancelled, an attempt is made to cancel the procurement order also. If no cancellation can be done on the procurement order, no error is thrown. Once the parent order is released, no status synchronization is  possible between the parent and the procurement order.</ul>
 <br>
 <p><b>Propagation of Changes from Procurement Order to Parent Order</b>
 <br> <ul>Cancellation from procurement order tries to unschedule the parent order. If the parent order cannot be unscheduled, no error is thrown. 
 If a quantity is added or cancelled on a chained line, the quantity is propagated to the parent line. If requested delivery date is modified on a chained line, it is reflected on the parent line. </ul>
 <br>
 <p><b>Propagation of Changes from Parent OrderLine to Drop Ship Chained OrderLine</b>
 <br> Change is propagated from a parent line to its chained lines based on the <code>ChainedOrderDefaultTemplate</code>, stored in the YFS_DOCUMENT_TEMPLATE table.
 If the attribute being changed does not exist in the <code>ChainedOrderDefaultTemplate</code>, the change for that attribute is not
 propagated to the chained lines.

 <p><ul>For example,  the <code>DeliveryCode</code> of parent line changes:
 <br> <ul>If the <code>ChainedOrderDefaultTemplate</code> contains the attribute <code>DeliveryCode</code>, the new <code>DeliveryCode</code> value is
 propagated to the chained lines
 <p> If the <code>ChainedOrderDefaultTemplate</code>  does not contain the attribute <code>DeliveryCode</code>, new <code>DeliveryCode</code> value is not
 propagated to the chained lines
 </ul>
 <p> Instructions are not carried from the parent line to a chained line, when the chained line is created. Similarly, any changes to parent line instructions are  not propagated to the chained lines.
 <br><p>See <code>createChainedOrder</code> for more information on <code>ChainedOrderDefaultTemplate</code>.
 <p> Each of the following is defined on a per attribute or element basis.
 If the parent line does not have a value for an attribute listed below, but the <code>ChainedOrderDefaultTemplate</code> has
 a value for that same attribute, the following rule applies:
 <br><ul>If a change is made in to the attribute in the parent <code>OrderHeader</code> to the attribute, then the change is
 propagated from the parent <code>OrderHeader</code> to the chained lines.
 <br> This applies to any of the following attributes:</ul>
 <br> <ul><code>PersonInfoShipTo</code>, <code>ShipToID</code>, <code>PersonInfoMarkFor</code>, <code>SCAC</code>, <code>CarrierServiceCode</code>, <code>CarrierAccountNo</code>, <code>DeliveryCode</code>, <code>FreightTerms</code> are <b><code>FOB</code></b>.
 </ul>
 <br> During propagation, modification rules are read for each line. An error is thrown if that modification is not allowed at any level.
 <br> If a quantity is added or cancelled on a chained line, the quantity is propagated to the parent line. Cancellation of quantity from parent line is propagated to chained line.
 This propagation is explained in <b><i>CANCEL on n-tier Order</i></b>.
 </ul>
 <p><b>Propagation of Changes from Parent Order to Made To Order (MTO) Work Order</b>
<br> If order line is cancelled, the following will be done:
<br>a) Once the order line is released, cancellation of order line will not result in cancellation of work order.
<br>b) If the order line is cancelled by passing the reduced <code>OrderedQty</code>, an attempt would be made to cancel the work order for the same quantity. If work order cannot be cancelled, then an error would be thrown if the flag <code>Allow Cancellation Even If Work Order Cannot Be Cancelled</code> is set to <b>N</b>. Other wise no error would be thrown.
<br>c) If Order Line is cancelled by passing <code>Action=CANCEL</code> on the order line or header, then attempt would be made to cancel work order(s) associated to the line. Whatever quantity is cancelled from work order will be cancelled from the order line.

<p><b>Propagation of Changes from Parent Order to MTC Work Order</b>
<br>If the order line is cancelled, then work order will not be cancelled.</ul>
<br>
 <p><b>Propagation of Changes from Delivery Line to associated Product Lines</b>
 <br><ul> If any of the following fields is changed for a delivery line, the same field is changed for all the associated product lines also:
 <ul>
        <br><code>PromisedApptStartDate</code>
        <br><code>PromisedApptEndDate</code>
        <br><code> EarliestShipDate</code>
        <br><code>EarliestDeliveryDate</code>
        <br><code>MergeNode</code>
        <br><code>ShipNode</code>
        <br><code>ShipToAddress</code>
        <br><code>ReceivingNode</code>
 <p>Changes from Product Service Lines are not carried over to Product Lines, and changes to Product Lines are not carried over to Product Service Lines.
 </ul>
 </ul>
<p><b>Propagation of Changes from Parent Order to Work Order</b>
<br>If an order line is cancelled, then the line will also be removed from work order. If line cannot be removed from work order, order line cancellation will be allowed based on the rule 'Allow cancellation even if work order cannot be cancelled'. If rule does not allow cancellation when work order cannot be cancelled then error is thrown.
<br>Changes to ShipToAddress on the order will be propagated to all its associated work orders, if ShipToAddress is not kept at order line level. 
 <br><ul> If any of the following fields is changed on an order line which is part of a work order, change will be propagated to work order:
 <ul>
        <br><code>PromisedApptStartDate</code>
        <br><code>PromisedApptEndDate</code>
        <br><code>ShipToAddress</code>
        <br><code>OrderedQty</code>
 <br>d) Change in association.
 <br>e) Change in option is added.
 
<p> By default, ShipToAddress and appointment dates cannot be changed on product lines once a product line is part of a work 
order. This behavior can be overridden by enabling the NonAddressFields properties.(See Properties Guide 
documentation for more details) If enabled, any change to <code>ShipToAddress</code> on the order will be propagated to all associated work orders.</p>
 
<br><br> ShipToAddress and appointment dates cannot be changed on service line if it is part of a complex work order (multi-appointment or appoinment against a service resource) or there are multiple service lines in the work order.  
 <p><b>Propagation of Changes from Chained OrderLine to Parent OrderLine</b>
 <br> <ul>If any of the following change:
 <ul>
 <br><code>ReceivingNode</code>
 <br><code>ShipNode</code> on chained line
 <br><code> ShipByDate</code>
 <br><code>ExpectedShipByDate</code>
 <br><code>ExpectedDeliveryDate</code>
 <br><code>ShipNode</code> or <code>ReceivingNode</code> on schedules of chained line
 <br><code>LotNumber</code>
 </ul>
 <br> then the change are propagated up to the parent line through the listener mechanism.
 <br>
 <br> Addition of quantity to and cancellation of quantity from chained line is propagated up to the parent line. The propagation of quantity change is explained above in <b>N-Tier Order; Add Quantity, Cancel</b>.
 <br>
 <br> Note: Modification rules are read for each line. An error is thrown if that modification is not allowed at any level.
 <br></ul></ul>
 <p>
 <p><b>Propagation of Changes from Parent OrderLine to OTHER chain type Chained OrderLine</b>
 <br> Change is propagated from a parent line to its chained lines based on the <code>ChainedOrderOtherTemplate</code>, stored in the YFS_DOCUMENT_TEMPLATE table.
 If the attribute being changed does not exist in the <code>ChainedOrderOtherTemplate</code>, the change for that attribute is not
 propagated to the chained lines.

 <p><ul>For example,  the <code>DeliveryCode</code> of parent line changes:
 <br> <ul>If the <code>ChainedOrderOtherTemplate</code> contains the attribute <code>DeliveryCode</code>, the new <code>DeliveryCode</code> value is
 propagated to the chained lines
 <p> If the <code>ChainedOrderOtherTemplate</code>  does not contain the attribute <code>DeliveryCode</code>, new <code>DeliveryCode</code> value is not
 propagated to the chained lines
 </ul>
 <p> Instructions are not carried from the parent line to a chained line, when the chained line is created. Similarly, any changes to parent line instructions are  not propagated to the chained lines.
 <br><p>See <code>ChainedFrom</code> element in input XML for more information on <code>ChainedOrderOtherTemplate</code>.
 <p> Each of the following is defined on a per attribute or element basis.
 If the parent line does not have a value for an attribute listed below, but the <code>ChainedOrderDefaultTemplate</code> has
 a value for that same attribute, the following rule applies:
 <br><ul>If a change is made in to the attribute in the parent <code>OrderHeader</code> to the attribute, then the change is
 propagated from the parent <code>OrderHeader</code> to the chained lines.
 <br> This applies to any of the following attributes:</ul>
 <br> <ul><code>PersonInfoShipTo</code>, <code>ShipToID</code>, <code>PersonInfoMarkFor</code>, <code>SCAC</code>, <code>CarrierServiceCode</code>, <code>CarrierAccountNo</code>, <code>DeliveryCode</code>, <code>FreightTerms</code> are <b><code>FOB</code></b>.
 </ul>
 <br> During propagation, modification rules are read for each line. An error is thrown if that modification is not allowed at any level.
 <br> If a quantity is added or cancelled on a chained line, the quantity is propagated to the parent line. Rule 'Action On Cancel From Chained Line' is used to determine if quantity from parent line needs to be cancelled or unscheduled. If it is a service line, quantity from parent line goes into created status when rule says unschedule. Cancellation of quantity from parent line is propagated to chained line.
 This propagation is explained in <b><i>CANCEL on n-tier Order</i></b>.
 </ul>
 <p><b>Propagation of Changes from Parent Order to Made To Order (MTO) Work Order</b>
<br> If order line is cancelled, the following will be done:
<br>a) Once the order line is released, cancellation of order line will not result in cancellation of work order.
<br>b) If the order line is cancelled by passing the reduced <code>OrderedQty</code>, an attempt would be made to cancel the work order for the same quantity. If work order cannot be cancelled, then an error would be thrown if the flag <code>Allow Cancellation Even If Work Order Cannot Be Cancelled</code> is set to <b>N</b>. Other wise no error would be thrown.
<br>c) If Order Line is cancelled by passing <code>Action=CANCEL</code> on the order line or header, then attempt would be made to cancel work order(s) associated to the line. Whatever quantity is cancelled from work order will be cancelled from the order line.

<br><br>* <p><b>Propagation of Changes from Chained Order to Parent Order</b>
<br> This applies to only orders of chain type 'OTHER'.
<br> It is based on the template 'ChainedOrderUpwardPropagationTemplate' of child order. If there is no attribute in the template, nothing will be propagated to parent orderline. There may be multiple chained orders for an order line. In that case, changes propagated by one chained line may be overridden by another chained line.


 <p><b>Hold type handling</b>
<br>An order or Order Line may be placed or removed from a particular hold type upon certain modifications. Additionally, hold types can be applied or removed manually by passing them to the API. 

<br><br>If a hold type is set for the modification type, this API should do the following processing:
<br>- Create a task queue entry for the transaction responsible for removing the hold type
<br>- All other task queue entries marked as prevented from processing orders or any order line with hold effect level order or all order lines with hold effect level Line on that hold type should be marked as held. 
<br>- Add an entry into the audit table for the hold type modifications

<br><br>If the order or Order Line is released from hold, this API should do the following:
<br>- If any hold type is configured to be applied on removal of a hold type, evaluate the condition and apply it on order or order line based on resolved hold's Hold Level. If order level hold is resolved then only order level hold will be applied. If a hold is resolved from a particular order line then new hold will be applied only on that order line based on condition. 
<br>- Remove the hold from the task queue entries marked as held
<br>- Add an entry into the audit table for the hold type modifications
 <br>XML for hold type condition evaluation for Order Level Hold- <a href="../../../../../XSD/HTML/YFS_ORDER_HOLD_CONDITION.html">YFS_ORDER_HOLD_CONDITION.xml</a>
 <br>Template name for Order Level Hold: ORDER_HOLD_CONDITION.xml 
 <br>XML for hold type condition evaluation for Order Line Level Hold- <a href="../../../../../XSD/HTML/YFS_ORDER_LINE_HOLD_CONDITION.html">YFS_ORDER_LINE_HOLD_CONDITION.xml</a>
 <br>Template name for Order Line Level Hold: ORDER_LINE_HOLD_CONDITION.xml
 <br></ul>

<br><br>If a hold type is configured with CanResolveOnCancel set to 'Y' :
<ul> 
 <br>On cancel of order line, line level hold gets resolved.
 <br>On cancel of all lines, line level hold as well as order level hold gets resolved.
 <br>On cancel of order, line level hold as well as order level hold gets resolved.
 <br>'On Resolution of Hold Type' is suppressed. Meaning, if another hold type is configured to be applied on resolution of this hold, then, on cancel of line or order, current hold gets resolved but no new hold is applied. 
<ul>

 <p><b>Post invoice price change handling</b>
<br>This is rule based optional feature.  'APPLY_PRICE_CHANGES_TO_INVOICED_QTY' rule needs to be set to activate this feature. This rule is available at Enterprise/Doc Type level. 

<br>As part of re-pricing after sales order invoice creation following can be done,
<br>    Add/remove header charges.
<br>    Change Unit price of a line 
<br>    Add/remove line charges.
<br><br><b>When to create adjustment invoice</b> 
<br> When a  header charge goes up or is added and order is completely invoiced.
<br> Any line level price changes and line is invoiced partially/completely. 
<br><br><b>How to create adjustment invoice</b> 
<br> To create an adjustment invoice, the difference is computed for each price change. 
<br><br>        Header level charges
<br>When header level charges are changed post invoicing, an adjustment invoice may be created for the difference in charges depending on if the order is completely invoiced or partially invoiced. For each header charge, if a header charge is increased it will be considered only if order is completely invoiced. Increases in charges will be taken care of during next invoice creation. For each header charge, if a header charge is decreased, an adjustment invoice will be created for the difference. Any change to a header level charge is not propagated to return order.
<br><br>        Header level taxes
<br>When header level taxes are changed post invoicing, an adjustment invoice may be created for the difference in taxes depending on if the order is completely invoiced or partially invoiced. For each header tax, if a header tax is changed it will be considered only if order is completely invoiced. For a partially invoiced order, the increase in taxes will be taken care of during next invoice creation. For each header tax, if a header tax is decreased, an adjustment invoice will be created for the difference. For each decreased header charge and increased header tax, both charge and taxes will be considered for invoice creation as taxes are driven by charges.
<br><br>Line level charges
<br>When line level charges are changed post invoicing, adjustment invoice is created for the difference in charges. For each line charge, adjustment invoice is created for difference in fixed line charges and change in ChargePerUnit. Quantity that will be considered to calculate the changed amount will be invoiced pricing qty - returned invoiced qty (converted to Pricing UOM). Any line level changes will be applied to non-invoiced qty of the returned order only changes that are same on the returned order will be applied. 
<br><br>Line level taxes
<br>When line taxes are changed post invoicing, adjustment invoice is created for the difference in tax depending on the line is completely or partially invoiced. If the line is partially invoiced, increase in taxes will be taken care of during the next invoice creation. If the line is completely invoiced or if the line tax is decreased, adjustment invoice will get created for the difference in taxes.
<br>If both charges and taxes are changed for an order line, then any change in price or chargePerUnit and taxes will be considered for adjustment invoice. 
<br><br><b>How to convert a existing sales order to an exchange order against a return order </b> 
<br> To convert a existing sales order to an exchange order, pass a valid return order header key in Order/ReturnOrderHeaderKeyForExchange, a valid exchange type in Order/ExchangeType and the order purpose must be 'EXCHANGE' in Order/OrderPurpose attribute along with unique identifiers of sales order.
<br> The return order for which this exchange order needs to be created should not have invoiced quantities and it should not already have an exchange order associated otherwise an error will be thrown.
<br> Sales order that already has some authorized or collected amount cannot be converted to a 'REGULAR' exchange order. However it can be converted to a 'ADVANCED' or 'ADVANCED_PP' exchange order.
<br><br><b>When adding and cancelling two lines in one API call</b> 
<br>This API will always execute the cancel first and then create (irrespective of the order in which the lines are given on the input XML). 
<br><br><b>Adding quantity to a cancelled line</b>
<br> Modification rules may be set up such that quantity can be added to an order line even after that order line has been previously cancelled.  This addition of quantity may be disallowed if the line is included in other documents that are beyond modifiable status, such as a cancelled work order.

<br><br><b>Pipeline modification</b> 
<br>When this API is called to change pipeline, modification permissions are looked up for each status the order line is in. Modification should be explicitly set to allow for each status that a line is in. Behavior is same as other modifications when this API is called with 'Override' flag. Pipeline is updated on order line and all the staus records for the line. Task queue records are created for changed pipeline and status records. Order line status is not changed. Line may get stuck if there is no pickup transaction configured for the status line is in. API changeOrderStatus should be called to change the status.

<br><br><b>Department Code modification</b> 
<br>When this API is called to modify department code at order header and previous value is same as value with Order line then new value of order header is pushed to order line. If shipment line exists corresponding to an order line for which department_code is modified, department code on the shipment line will also be modified if olds values on order line and shipment line are same.

<br><br><b>Bundle Modifications</b> 
<br><b>Quantity</b>
<br>When quantity is modified for a bundle parent, the change is propagated to the components that have specified the <code>KitQty</code>. If for some reason, change cannot be propagted to the components, error is thrown and entire operation will be rolled back. The formula to compute parent line's orderedquantity is eplained below:
<br><br><code>Parent line's OrderedQty = Max(Component's OrderedQty/Kit Quantity)</code>
 <p>
 <a name="xmltable"></a>
  <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">        
        <tr>
                <td COLSPAN=6 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Example: How to compute Bundle Parent Line's Ordered Quantity<b></font></td>
        <tr>
                <td> <a > Component Order Line Key</a></td>
                <td><a >Kit Qty </a> </td>
                <td><a >Ordered Qty</a></td>
        </tr>
        <tr>
                <td> <a > C1</a></td>
                <td><a >2 </a> </td>
                <td><a >4</a></td>
        </tr>
        <tr>
                <td> <a > C2</a></td>
                <td><a >3 </a> </td>
                <td><a >6</a></td>
        </tr>
 </table>
</p>
<br>Parent line's quantity comes out to be 2 after applying the formula mentioned above to each component.
<br><br>Reduction of quantity and increase in quantity is explained below in detail.
<br><b>Cancel Quantity</b>
<br><b>Cancel ordered quantity at bundle parent line level</b>
<br>Requested quantity is cancelled from parent line. Quantity cancelled from parent line is attempted to cancel from the components also. Change In Parent line's quantity * Kit Qty of the component is applied to all the components. It is an error condition if it can not be cancelled from any of the components. Fixed component lines are affected only if parent is cancelled completely.

<br><b>When Action='CANCEL' at bundle parent line level</b>
<br>Cancel from all the components as much as possible. Re-compute the parent quantity. Parent line's quantity is Max(Component's ordered quantity/Kit Quantity). It is an error condition if it can not be cancelled from the parent. Fixed component lines are affected only if parent is cancelled completely.

<br><b>When Action='CANCEL' at bundle component line level</b>
<br>Cancel the component as much as possible. Re-compute the parent quantity. Parent line's quantity is Max(Component's ordered quantity/Kit Quantity).

<br>Cancellation of components may update shipped quantity of bundle parent and trigger invoicing of bundle parent. This happens when bundle is partially shipped and rest of the components are cancelled. Invoicing is triggered when bundle parent is invoiced on invoicing of last component. Say, part of a bundle is invoiced but last component is cancelled before even it was invoiced. In such cases, bundle parent line will be invoiced on cancellation of those components.
<br><b>Add Quantity</b>
<br>Adding quantity to components may throw exception if maximum of component/kit quantity becomes more than parent quantity. Adding quantity to parent, adds quantity to all the components that have KitQty >0. Change In Parent line's quantity * Kit Qty of the component is applied to all the components.
<br><b>Add Line</b>
<br>A component can be added to an existing bundle parent line. Component can be another bundle line. An existing line can be added to a bundle line also. But after addition if (component quantity/ kit quantity) becomes greater than its bundle parent quantity then exception will be thrown. 
<br><b>When Action='REPLACE_BUNDLE' for bundle parent</b>
<br>This action can be passed only for bundle parents. Pass this action to replace existing definition of bundle with another one. All the components passed remain with order and as well as with bundle. Rest all the components are deleted. If passed for a bundle parent then modification type <code>CHANGE_BUNDLE_DEFINITION</code> is executed on the line passed and on all its existing components. In addition to this, modification type <code>DELETE</code> is executed on all the components getting removed and modification type <code>ADD_LINE</code> is executed on components getting added. This modification is applied to bundle parent's immediate components.
<br><b>Schedule Synchronization</b>
<br>Any ExpectedShipDate or ExpectedDeliveryDate change of components is propagated to the bundle parent. If any component doesn't maintain kit quantity then the latest ESD and EDD of all its components will be propagated to their bundle parent. If all components maintain kit Quantity and all components are in same ratio for same ESD, EDD, Ship Node and Receiving Node, then bundle parent will have that ESD, EDD, Ship Node and Receiving Node for that ratio quantity. If rests of the quantities are not in ratio then latest ESD and EDD of the components which are not in same ratio will be propagate to their bundle parent. Whenever there is any Schedule changes for any component we will use same logic to propagate it to it's the bundle parent.
 <br></ul>
<p><b>Bundle Ship Together</b>
<br>Following attributes are kept in synch for Bundle parent line and associated component lines if not overridden at bundle component level.
 <br><ul> If any of the following fields is changed for a bundle parent or bundle component, the same field is changed for all the associated bundle lines also:
 <ul>
        <br><code>PromisedApptStartDate</code>
        <br><code>PromisedApptEndDate</code>
        <br><code> EarliestShipDate</code>
        <br><code>EarliestDeliveryDate</code>
        <br><code>MergeNode</code>
        <br><code>ShipNode</code>
        <br><code>ShipToAddress</code>
        <br><code>ReceivingNode</code>
        <br><code>FulfillmentType</code>
 </ul>
 </ul>
<p><b>Order Approval</b>
<ul><br>If hold type is configured to be applied for order approval, then, if BuyerUserId or BillToId has changed on the order, or if the order total has increased, hold is re-applied after evaluating the spending limit of the customer contact. 
<br> If order total is reduced, hold will not be re-applied or resolved.
<br> To resolve approval hold, <code>ResolverUserId</code> may be passed in the input. If not passed, the <code>ResolverUserId</code> on the hold is used to evaluate the hold. If  <code>ResolverUserId</code> is neither passed in the input nor set on the hold, then user is pulled from the context. The context user is validated for a valid customer contact for the <code>BillToID</code>.
<br> If the order total is greater than the spending limit of the resolver, then <code>ResolverUserId</code> on the order hold is updated with the <code>ApproverUserId</code> of the current <code>ResolverUserId</code>. Hold is still in <code>Created</code> status. Also, order hold log is updated with new entry.
</ul>
<p><b>Pending Changes On Order</b>
<br> <code>changeOrder</code> API can be called in pending change mode.  Whenever <code>RecordPendingChanges</code> flag is passed on an order, changes will be specially handled.  Such changes can be rolled back by passing <code>ResetPendingChanges</code>.  Whenever order is being modified with pending changes different transaction id will be used: <code>ORDER_CHANGE_PENDING</code>.  All events will be raised based on this transaction.
After a configurable number of hours, pending changes will be ignored as if they are not present on the order.  Whenever pending changes are present on the order and inquiry is being made, order will be returned as if the pending changes have been applied.
<br> In order to prevent agents from  picking up order with pending changes, a hold for pending changes should be configured with corresponding agents configured to be prevented by this hold.  Whenever pending changes are applied or removed from the order, corresponding hold will automatically be removed.  However, if the pending changes expire, hold will remain.  In order to resolve the hold a separate agent has to run that can process hold types.  Any instance of the ProcessOrderHoldTypes transaction will be able to resolve this hold without userexit implementation.
<br> Once pending changes are present on the order, there are some changes on the order which are not supported and will be indicated in Input XML.
<br> Pending changes are not supported on draft orders and should be performed only once the order is confirmed.  Also <code>changeOrder</code> API should not be called multiple times through <code>multiApi</code> on the order that contains pending changes.
 <br/>An error will be thrown (error code <code>YFS10009</code>) if attempting to change a 
 component of a BOM bundle in pending change mode. Changes should be committed before
 making pending changes to components of a BOM bundle.  
<br> When an order has pending changes, it does not prevent related business documents such as Derived Orders, Invoices, Shipments or WorkOrders from being processed.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
 <p></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document having latest order details and the audit details made to the order on the platform.
 For details on the output, refer to the associated  <a href="#xmltable">output files</a>.
 <p></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.</dd>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes in the  standard  <a href="#xmltable">error files</a>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/cancelMasterOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/changeOrderInvoice.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/changeOrder.html" target="_top">Frames</a></li>
<li><a href="changeOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>
