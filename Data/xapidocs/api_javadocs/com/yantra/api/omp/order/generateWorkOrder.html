<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0) on Wed Sep 28 16:02:41 UTC 2022 -->
<title>generateWorkOrder (IBM Sterling Dev java docs)</title>
<meta name="date" content="2022-09-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="generateWorkOrder (IBM Sterling Dev java docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Sterling Selling And Fulfillment Foundation 10.0</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/executeReturnPolicy.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/getAdditionalDeliveryServicesForOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/generateWorkOrder.html" target="_top">Frames</a></li>
<li><a href="generateWorkOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="generateWorkOrder" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.yantra.api.omp.order</div>
<h2 title="Interface generateWorkOrder" class="title" id="Header1">Interface generateWorkOrder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd>com.yantra.api.OMPApi, <a href="../../../../../com/yantra/interop/japi/YIFApi.html" title="interface in com.yantra.interop.japi">YIFApi</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">generateWorkOrder</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yantra/api/omp/order/generateWorkOrder.html#generateWorkOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">generateWorkOrder</a></span>(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                 org.w3c.dom.Document&nbsp;inXML)</code>
<div class="block"> The <code>generateWorkOrder</code> API creates work orders for the order identified in the input.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="generateWorkOrder-com.yantra.yfs.japi.YFSEnvironment-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>generateWorkOrder</h4>
<pre>org.w3c.dom.Document&nbsp;generateWorkOrder(<a href="../../../../../com/yantra/yfs/japi/YFSEnvironment.html" title="interface in com.yantra.yfs.japi">YFSEnvironment</a>&nbsp;env,
                                       org.w3c.dom.Document&nbsp;inXML)
                                throws com.yantra.yfs.japi.YFSException,
                                       java.rmi.RemoteException</pre>
<div class="block"><p> The <code>generateWorkOrder</code> API creates work orders for the order identified in the input. Both delivery service
work orders and provided service work orders are generated by this API. If there are no provided service lines in the order, 
work orders are generated for any line, excluding bundle parents, that has <code>DeliveryMethod</code> set to <code><b>DEL</b></code>.
The <code>generateWorkOrder</code> API attempts to create as few work orders as possible, consolidating multiple lines to a 
single work order provided other criteria, described in the sections below, match. The API first executes the logic for
generating work orders for product &amp; delivery lines and then executes the logic for generating work orders for service lines.
</p>
 Note: 
<p> The <code>generateWorkOrder</code> API returns a list of all work orders associated with the order, along with
a flag to indicate whether the work order was created or modified by the <code>generateWorkOrder</code> call.</p>

<p><b><font size=4>Generation of work orders for product and delivery lines</font></b></p>
<ul>
<li>
<p><b>Consolidating To Existing Work Orders</b>
<br>The <code>generateWorkOrder</code> API can add new product deliveries and service lines to existing work orders, rather than 
creating entirely new work orders.  This behavior is controlled by the <code>ConsolidateToExistingWorkOrder</code> flag.
When determining the best method of generating work orders, the <code>generateWorkOrder</code>
API will first consider placing products or services on existing work orders before considering creating new work orders.
The following conditions must be true in order for a line to be consolidated to a work order:
<ul>
 <li>The work order must not be completed or cancelled.</li>
 <li>If the work order is a multi-appointment work order, there must be no completed appointments.</li>
 <li>If the work order already has an appointment, the start of the first appointment must be beyond the consolidation cut-off time.
 This time is based on the work order consolidation lead time specified for the order's enterprise.  The work order's first appointment
 must be beyond the lead time as counted from midnight on the day that the <code>generateWorkOrder</code> API is invoked.  This means that
 a lead time of "0" will still exclude all work orders whose first appointment is on the current date.  If the lead time is set to "12",
 then only work orders with a promised appointment start date beyond noon of the following day will be considered, no matter what the current
 time of day is.</li>
 <li>The work order and product line must have the same ship to address.  If the order line does not have a ship to address specified, the
 order-level ship to address is used instead.</li>
 <li>The work order and product line must originate from the same ship node.</li>
 <li>The work order and line must use the same <code>FulfillmentType</code>.</li>
 <li>The work order and line must use the same <code>LevelOfService</code>.</li>
 <li>If the product line does not already have an associated delivery service, it must be able to be associated with a delivery service that 
 is included on the work order already.</li>
 <li>If the product line already has an associated delivery service line, another delivery service line with an identical delivery service 
 item must already be included on the work order.</li>
 <li>Work order modification rules must permit the addition of new product lines and, in the case the product line already has an associated
 delivery service, the addition of new delivery services.</li>
</ul>
<br><b>Note:</b>If none of the product lines chosen to be included on a work order have an existing delivery service line 
associated, the <code>generateWorkOrder</code> API will create a new delivery service line on the order and include this 
delivery service in the newly created work order along with the product lines.
<br><br>It is possible that consolidating additional services and products to a work order may cause a change in the required capacity of the
work order.  If this is the case, capacity will not be automatically re-blocked.  Instead, the current appointment will remain blocked
as it was before, and the <code>CauseAppointmentChange</code> flag on the added product deliveries will be set to <code><b>Y</b></code>.
Additionally, the modifyWorkOrder ON_SUCCESS event will have the <code>ValidatePlanning</code> flag set to <code><b>N</b></code>.  In
the event that an appointment change is required, a suggested appointment will be returned for the work order, if present in the output
template.
<br><br>While creating a new work order and a node is not specified on the order line, the node on the new work order will be determined 
by the system based on the sourcing rules and resource pools configured without performing capacity check.
</p></li>
<li>
<p><b>Associations</b>
<br>When creating a new work order or consolidating order lines to an existing work order, the <code>generateWorkOrder</code> API will
create associations between product lines and the delivery line on the work order.  Product line and delivery lines must have the
same fulfillment type and level of service to be associated. If an existing work order has multiple delivery lines,
the product line will be associated with only one delivery, chosen from those delivery services on the work order that the product line
can be associated with.  If a product line that is not currently on a work order is associated with a delivery service that is already 
included in a work order, the <code>generateWorkOrder</code> API will consider placing that product line with a new delivery service if 
necessary, and remove the previous association.
</p>
</li>
<li>
<p><b>"Maybe" Delivery Lines</b>
<br>Items which are marked in the catalog as having <code>IsDeliveryAllowed</code> set to <code><b>M</b></code> are treated different
in several ways from standard deliverable items.  If an item that is marked as "Maybe" deliverable does not have any delivery service 
associations defined in the catalog, then it will be considered valid for any work order when consolidating or creating new work orders,
regardless of delivery service.  If the item does have service associations defined, then those associations will be considered when 
creating a new work order or finding a valid work order for consolidation.  In this situation, the "Maybe" delivery line behaves like 
any other delivered line, with the exception that the <code>generateWorkOrder</code> API will never create a new work order that consists
of only "Maybe" deliverable lines.
<br>Additionally, the <code>generateWorkOrder</code> API will not create an order product service association for a line that has
<code>IsDeliveryAllowed</code> set to <code><b>M</b></code>.
</p>
</li>
<li>
<p><b>Changing Delivery Method</b>
<br>The <code>generateWorkOrder</code> API can also change the <code>DeliveryMethod</code> of lines that were previously
being shipped to instead be delivered.  This is controlled by the <code>ConsiderChangingShippingToDelivery</code> flag.  When
this flag is set to <code><b>Y</b></code>, then the item catalog information for each line with <code>DeliveryMethod</code> set to 
<code><b>SHP</b></code> is retrieved.  If the item has <code>IsDeliveryAllowed</code> set to maybe, then the item will be added to a
work order only if another line on the order necessitates the creation of a work order, or if there are already existing work orders
for the order and <code>ConsolidateToExistingWorkOrder</code> is set to <code>Y</code>.  The consoldiation logic is the same as outlined
above in "Consolidating To Existing Work Orders", except that for these lines, if there are no service associations defined in the 
catalog, any delivery service is considered valid for consolidation.
<br>The <code>generateWorkOrder</code> API will also revert <code>DeliveryMethod</code> back to <code><b>SHP</b></code> for any
line which has a <code>DeliveryMethod</code> of <code><b>DEL</b></code> and <code>IsDeliveryAllowed</code> set to <code><b>M</b></code>
if <code>generateWorkOrder</code> is unable to find any existing or new work order able to deliver the item.</p>
</li>
</ul>

<p><b><font size=4>Generation of work orders for service lines</font></b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;After executing the logic for the product lines and delivery lines, the API executes the logic for generating work orders
for service lines. Similar to the logic of generating work orders for product and delivery lines, while generating work orders
for service lines, the API tries to create as few work orders as possible. Service lines can be consolidated to existing 
work orders based on the <code>ConsolidatePSLinesWithSameAddress</code> flag, provided the following conditions are also true:
<ul>
        <li>The <code>ConsolidateToExistingWorkOrder</code> flag must be passed as <b>Y</b>.
        <li>The work order and the service line must have the same ship to address. If the order line does not have a ship to 
                address specified, the order-level ship to address is used instead.
        <li>The work order and the service line must originate from the same ship node.
        <li>The work order and the service line must have the same <code>FulfillmentType</code>.
        <li>The work order and the service line must have the same <code>LevelOfService</code>.
  <li>The work order has a product line that is associated to the service line or the service line is a stand-alone service line.
        <li>Work order modification rules must permit the addition of new service lines.
        <li>If the work order already has an appointment, the start of the first appointment must be beyond the consolidation 
                cut-off time. This time is based on the work order consolidation lead time specified for the order's enterprise.
                The work order's first appointment must be beyond the lead time as counted from midnight on the day that the 
                <code>generateWorkOrder</code> API is invoked. This means that a lead time of "0" will still exclude all work orders 
                whose first appointment is on the current date. If the lead time is set to "12", then only work orders with a promised 
                appointment start date beyond noon of the following day will be considered, no matter what the current time of day is.
</ul>
<br><b>Note:</b>
<ol>
        <li>If the <code>ConsolidatePSLinesWithSameAddress</code> flag is passed as <b>N</b>, the API creates a new work order for
                each service line.
        <li>If the <code>ConsolidatePSLinesWithSameAddress</code> flag is passed as <b>Y</b> and the
                <code>ConsolidateToExistingWorkOrder</code> flag is passed as <b>N</b>, consolidation to existing work orders will 
                not take place. A new work order will be created. However, the API will try to consolidate multiple service lines to 
                the same work order based on the other criteria mentioned above.
        <li>If the work order's enterprise's rules are set up to disallow switching of the work order's service item group code, 
                service lines will not be consolidated to a work order whose <code>ServiceItemGroupCode</code> is <b>DS</b>. Instead,
                a new work order will get created for the service lines.
</ol>
</p>

<p><b><font size=4>Suggested appointment</font></b>
<br>The <code>generateWorkOrder</code> API will also suggest an appointment for new work orders, as well as existing work orders if 
consolidating to an existing work order required an appointment change or does not currently have an open appointment.  The 
appointment suggested by the <code>generateWorkOrder</code> API is the same appointment that would be returned by the 
<code>getWorkOrderAppointmentOptions</code> API.  Several flags in the input XML can be used to control suggested appointment 
determination.  
</p>

<p><b><font size=4>Synchronizing work order for exchange order and return order</font></b>
<br>The <code>generateWorkOrder</code> API can be used in synchronizing work order for return order and exchange order of the return by performing the following steps:  
<ol>
 <li>Call the <code>generateWorkOrder</code> API on an exchange order. This will consider the applicable lines of the exchange order.
 If user considers consolidating with existing work orders, the API will consider the existing work orders of the exchange order as well as the work orders of the return order.
 <li>Call the <code>generateWorkOrder</code> API on the return order of the exchange order. This will consider the applicable lines of the return order.  
 If user considers consolidating with existing work orders, the API will consider the existing work orders of the return order as well as the work orders of the exchange order.  
</ol> 
</p>

<p>
 <!--- TABLE START --->
 <a name="xmltable"></a>
 <table BORDER="1" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">         
        <tr>
                <td COLSPAN=6 BGCOLOR="#EEEEFF"><font-family="Arial","Helvetica,san-serif" ><b>Related Documents<b></font></td>
 <tr>
                <td> <a href="../../../../../XSD/HTML/YFS_generateWorkOrder_input.html"> Input XML</a></td>
                <td><a href="../../../../../dtd/YFS_generateWorkOrder_input_dtd.txt">Input DTD </a> </td>
                <td><a href="../../../../../XSD/HTML/YFS_generateWorkOrder_output.html">Output XML</td>
                <td><a href="../../../../../dtd/YFS_generateWorkOrder_output_dtd.txt">Output DTD</td>
                <td><a href="../../../../../XSD/HTML/YFSError.html">Error XML</a></td>
                <td><a href="../../../../../dtd/YFSError_dtd.txt">Error DTD</a></td>
        </tr>
 </table>
<p><B>User Exits:</B>
        This API invokes the following user exits:
        <ul>    <a href="../../../yfs/japi/ue/YFSGenerateWorkOrderUE.html">com.yantra.yfs.japi.ue.YFSGenerateWorkOrderUE</a>
                        <br>This user exit is called only when there is at least one order line that is applicable for creating a new work order or consolidating with an existing work order.  If all order lines are already included in work order(s), this user exit will not be called.
                        <br><a href="../../../yfs/japi/ue/OMPProcessRoutingExternallyUE.html">com.yantra.yfs.japi.ue.OMPProcessRoutingExternallyUE</a>
                        <br><a href="../../../yfs/japi/ue/OMPGetExternalCostForOptionsUE.html">com.yantra.yfs.japi.ue.OMPGetExternalCostForOptionsUE</a>
  </ul>
</p>
<p> <b>Events Raised:</B> None
<p> <b>Audits:</B>  None
<p> <b>Pre-conditions:</B> None
<p> <b>Post-conditions:</B> 
<br> New work orders may be created in the system.  Additional delivery service lines may also be added to the original 
sales order.
<p> <b>Output Template Support:</B>  Yes
<p> <b>Database Extensibility Support:</B>  Yes
<p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - Required. Environment handle returned by the <code>createEnvironment</code> API.</dd>
<dd><code>inXML</code> - Required. For more information, see the associated <a href="#xmltable">input xml files</a>.
<br>
<br></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An XML document that contains the input parameters, along with all delivery service work orders associated with the order. 
For details on the output, refer to the associated <a href="#xmltable">output files</a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.yantra.yfs.japi.YFSException</code> - Exception containing error codes in the standard  <a href="#xmltable">error files</a>.
<br></dd>
<dd><code>java.rmi.RemoteException</code> - Java's default remote exception handler.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>IBM Corp. Confidential</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/yantra/api/omp/order/executeReturnPolicy.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/yantra/api/omp/order/getAdditionalDeliveryServicesForOrder.html" title="interface in com.yantra.api.omp.order"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yantra/api/omp/order/generateWorkOrder.html" target="_top">Frames</a></li>
<li><a href="generateWorkOrder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><font face='Verdana' size='1'>&#169; Copyright IBM Corp. 2001, 2013 All Rights Reserved. </font></small></p>
</body>
</html>
