Order Create Email to Store
<?xml version="1.0" encoding="UTF-8"?>
<Order CampaignID="OMNI_SFS_TQUS_ORDINFORETST"
    CustomerEMailID="btqxnj@titancompany.com" CustomerFirstName="TCL NA"
    CustomerLastName="" CustomerPhoneNo="848 999-2587"
    EnterpriseCode="TITAN_US" OrderNo="00003586" ShipmentNo="100004797"/>

Order Cancel Email to Store
<?xml version="1.0" encoding="UTF-8"?>
<Order CampaignID="OMS_TQAE_ORDCNCTOSTR"
    CustomerEMailID="btqxnj@titancompany.com" CustomerFirstName="TCL NA"
    CustomerLastName="" CustomerPhoneNo="848 999-2587"
    EnterpriseCode="TITAN_US" OrderNo="00003586" ShipmentNo="100004797"/>
	

	
	
Input XML:
<?xml version="1.0" encoding="UTF-8"?>
<Order CancellationNo="20240712015603"
    CancelledDate="2024-07-12T01:56:03" OrderNo="00002379" SellerOrganizationCode="TITAN_GCC">
    <OrderLines>
        <OrderLine CancelledBillDiscValue="0.00"
            CancelledDiscount="0.00" CancelledGrossWeight="11.078"
            CancelledLineValue="4486.00"
            CancelledOmniPOSSDiscount="0.00" CancelledQty="1"
            CancelledShippingCharge="0.00" ItemCode="EP3818FDZLAA00"
            LineItemNo="1" LocationCode="XDJ" LotNo="2ED000004"
            ShipmentNo="100005617" Tax1="" Tax2="213.62" TotalTax="427.24">
            <Notes>
                <Note AuditTransactionId=" " NoteText="Change My Mind"/>
            </Notes>
            <TitanGCLineDetailList/>
        </OrderLine>
    </OrderLines>
</Order>


Multi Line:
<?xml version="1.0" encoding="UTF-8"?>
<Order CancellationNo="20240807082049"
    CancelledDate="2024-08-07T08:20:49" OrderNo="00003006" SellerOrganizationCode="TITAN_GCC">
    <OrderLines>
        <OrderLine CancelledBillDiscValue="0.00"
            CancelledDiscount="0.00" CancelledGrossWeight="15.475"
            CancelledLineValue="8656.00"
            CancelledOmniPOSSDiscount="2473.16" CancelledQty="1"
            CancelledShippingCharge="0.00" ItemCode="EL3919VCKR1A02"
            LineItemNo="1" LocationCode="XDM" LotNo="2JA000002"
            ShipmentNo="100006351" Tax1="" Tax2="412.19" TotalTax="824.38">
            <Notes>
                <Note AuditTransactionId=" " NoteText="Change My Mind"/>
            </Notes>
            <TitanGCLineDetailList/>
        </OrderLine>
    </OrderLines>
</Order>

<?xml version="1.0" encoding="UTF-8"?>
<Order CancellationNo="20240807082050"
    CancelledDate="2024-08-07T08:20:50" OrderNo="00003006" SellerOrganizationCode="TITAN_GCC">
    <OrderLines>
        <OrderLine CancelledBillDiscValue="0.00"
            CancelledDiscount="0.00" CancelledGrossWeight="11.078"
            CancelledLineValue="3000.00"
            CancelledOmniPOSSDiscount="96.79" CancelledQty="1"
            CancelledShippingCharge="0.00" ItemCode="EP3818FDZLAA00"
            LineItemNo="2" LocationCode="XDJ" LotNo="2ED000004"
            ShipmentNo="100006352" Tax1="" Tax2="142.86" TotalTax="285.72">
            <Notes>
                <Note AuditTransactionId=" " NoteText="Change My Mind"/>
            </Notes>
            <TitanGCLineDetailList/>
        </OrderLine>
    </OrderLines>
</Order>

Order Fulfillment -> IBD_Emails ->
Service: IBD_SFSStoreCancelEmail

invokeApiOrFlow		-	IBD_GetOrganizationHierarchy
<?xml version="1.0" encoding="UTF-8"?>
<Order CancellationNo="20240807082050" CancelledDate="2024-08-07T08:20:50" OrderNo="00003006" SellerOrganizationCode="TITAN_GCC">
    <OrderLines>
        <OrderLine CancelledBillDiscValue="0.00" CancelledDiscount="0.00" CancelledGrossWeight="11.078" CancelledLineValue="3000.00" CancelledOmniPOSSDiscount="96.79" CancelledQty="1" CancelledShippingCharge="0.00" ItemCode="EP3818FDZLAA00" LineItemNo="2" LocationCode="XDJ" LotNo="2ED000004" ShipmentNo="100006352" Tax1="" Tax2="142.86" TotalTax="285.72">
            <Notes>
                <Note AuditTransactionId=" " NoteText="Change My Mind"/>
            </Notes>
            <TitanGCLineDetailList/>
        </OrderLine>
    </OrderLines>
    <Organization AccountWithHub="" OrganizationCode="XDJ" OrganizationKey="XDJ" OrganizationName="XDJ" TaxpayerId="">
        <Node ReceivingNode="N" ShipNode="XDJ" ShipNodeAddressKey="20231122164924124035" ShipNodeClass="" ShipnodeKey="XDJ" ShipnodeType="" ShippingNode="Y">
            <ShipNodePersonInfo AddressLine1="BurJuman Center," AddressLine2="Showroom No. L1-1025," AddressLine3="Khalid Bin Waleed Street - Al Raffa" AddressLine4="" AddressLine5="" AddressLine6="" AlternateEmailID="" City="Dubai" DayPhone="+971 43281757" EMailID="Riya.PhilipK@cognizant.com" FirstName="Mia by Tanishq - BurJuman Dubai" LastName="" State="Dubai" ZipCode="9763"/>
        </Node>
    </Organization>
</Order>
Order/OrderLines/OrderLine/@LocationCode


XSL:
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
	<xsl:output encoding="UTF-8" indent="no" method="xml" omit-xml-declaration="yes"/>
	<xsl:strip-space elements="*"/>
	<xsl:template match="/">
		<Order>
			<xsl:attribute name="OrderNo">
				<xsl:value-of select="/Order/@OrderNo"/>
			</xsl:attribute>
			<xsl:attribute name="ShipmentNo">
				<xsl:value-of select="/Order/OrderLines/OrderLine/@ShipmentNo"/>
			</xsl:attribute>
			<xsl:attribute name="EnterpriseCode">
				<xsl:value-of select="/Order/@SellerOrganizationCode"/>
			</xsl:attribute>
			<xsl:attribute name="CustomerEMailID">
				<xsl:value-of select="/Order/Organization/Node/ShipNodePersonInfo/@EMailID"/>
			</xsl:attribute>
			<xsl:attribute name="CustomerPhoneNo">
				<xsl:value-of select="/Order/Organization/Node/ShipNodePersonInfo/@DayPhone"/>
			</xsl:attribute>
			<xsl:attribute name="CustomerFirstName">
				<xsl:value-of select="/Order/Organization/Node/ShipNodePersonInfo/@FirstName"/>
			</xsl:attribute>
			<xsl:attribute name="CustomerLastName">
				<xsl:value-of select="/Order/Organization/Node/ShipNodePersonInfo/@LastName"/>
			</xsl:attribute>
		</Order>
	</xsl:template>
</xsl:stylesheet>



Stamp Campaign ID	-	Advance XML Modifier
<?xml version="1.0" encoding="UTF-8"?>
<ManageXmlList>
    <ManageXml Action="Manage" AttributeName="CampaignID"
        AttributeValue="GetCommonCode(SFSSTORECANCL_ID_GCC,CommonCampaignID, CodeShortDescription, DEFAULT)"
        Condition="/Order[@EnterpriseCode='TITAN_GCC']"
        DefaultReturnValue="" Xpath="/Order"/>
    <ManageXml Action="Manage" AttributeName="CampaignID"
        AttributeValue="GetCommonCode(SFSSTORECANCL_ID_US,CommonCampaignID, CodeShortDescription, DEFAULT)"
        Condition="/Order[@EnterpriseCode='TITAN_US']"
        DefaultReturnValue="" Xpath="/Order"/>
</ManageXmlList>




Output:	
	<?xml version="1.0" encoding="UTF-8"?>
<Order CampaignID="OMS_TQAE_ORDCNCTOSTR" 
	CustomerEMailID="Riya.PhilipK@cognizant.com" CustomerFirstName="Mia by Tanishq - BurJuman Dubai" 
	CustomerLastName="" CustomerPhoneNo="+971 43281757" 
	EnterpriseCode="TITAN_GCC" OrderNo="00003006" ShipmentNo="100006352"/>
	
	
	
