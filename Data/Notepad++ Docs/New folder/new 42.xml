<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output indent="yes" method="xml"/>
    <xsl:template match="/">
        <Shipment>
            <xsl:attribute name="OrderNo">
                <xsl:value-of select="/Order/@OrderNo"/>
            </xsl:attribute>
            <xsl:variable name="vAmount" select="/Order/@Amount"/>
            <xsl:variable name="vAmount1" select="/Order/OrderInvoice/OrderInvoiceList/OrderInvoice[(@TotalAmount * 100)=$vAmount]/@TotalAmount"/>
            <xsl:variable name="vSellerOrganizationCode" select="/Order/OrderInvoice/OrderInvoiceList/OrderInvoice[(@TotalAmount * 100)=$vAmount]/@SellerOrganizationCode"/>
            <xsl:variable name="vShipNode" select="/Order/OrderInvoice/OrderInvoiceList/OrderInvoice[(@TotalAmount * 100)=$vAmount]/@ShipNode"/>
            <xsl:variable name="vShipmentNo" select="/Order/OrderInvoice/OrderInvoiceList/OrderInvoice[(@TotalAmount * 100)=$vAmount]/@ShipmentNo"/>
            <xsl:attribute name="SellerOrganizationCode">
                <xsl:value-of select="$vSellerOrganizationCode"/>
            </xsl:attribute>
            <xsl:attribute name="Amount">
                <xsl:value-of select="$vAmount1"/>
            </xsl:attribute>
            <xsl:attribute name="ShipNode">
                <xsl:value-of select="$vShipNode"/>
            </xsl:attribute>
            <xsl:attribute name="ShipmentNo">
                <xsl:value-of select="$vShipmentNo"/>
            </xsl:attribute>
            <xsl:attribute name="StatusCode">20</xsl:attribute>
            <xsl:attribute name="Message">Approved</xsl:attribute>
        </Shipment>
    </xsl:template>
</xsl:stylesheet>




<?xml version="1.0" encoding="UTF-8"?>
<Order Amount="262643" Message="Approved" OrderNo="00111948">
    <OrderInvoice OrderNo="00111948">
        <OrderInvoiceList LastOrderInvoiceKey="202410140765070738998200"
            LastRecordSet="Y" ReadFromHistory=""
            TotalNumberOfRecords="1" TotalOrderInvoiceList="1">
            <OrderInvoice ActualFreightCharge="0.00"
                AmountCollected="20.00"
                ChargeTransactionKey="2024101406400938996879"
                ChargedActualFreight="N" CollectedExternally=""
                Currency="USD" DocumentType="0001"
                EnterpriseCode="TITAN_US" InvoiceCreationReason=""
                InvoiceNo="2976" InvoiceType="SHIPMENT"
                MasterInvoiceNo=""
                OrderHeaderKey="2024101406400938996872"
                OrderInvoiceKey="202410140765070738998200"
                OrderNo="00111948" OtherCharges="0.00"
                ReturnReleaseKey="" SellerOrganizationCode="TITAN_US"
                ShipNode="XCG" ShipmentKey="2024101406435438997043"
                ShipmentNo="100006874" Status="00" TotalAmount="2646.43"
                TotalTax="164.43" isHistory="N"/>
        </OrderInvoiceList>
    </OrderInvoice>
</Order>



<?xml version="1.0" encoding="UTF-8"?>
<Shipment Amount="" Message="Approved" OrderNo="00111948"
    SellerOrganizationCode="" ShipNode="" ShipmentNo="" StatusCode="20"/>
